<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpegfs Fuse Multi Media Filesystem: FFmpeg_Transcoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpegfs Fuse Multi Media Filesystem
   &#160;<span id="projectnumber">1.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classFFmpeg__Transcoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FFmpeg_Transcoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classFFmpeg__Transcoder.html" title="The FFmpeg_Transcoder class. ">FFmpeg_Transcoder</a> class.  
 <a href="classFFmpeg__Transcoder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ffmpeg__transcoder_8h_source.html">ffmpeg_transcoder.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FFmpeg_Transcoder:</div>
<div class="dyncontent">
<div class="center"><img src="classFFmpeg__Transcoder__inherit__graph.png" border="0" usemap="#FFmpeg__Transcoder_inherit__map" alt="Inheritance graph"/></div>
<map name="FFmpeg__Transcoder_inherit__map" id="FFmpeg__Transcoder_inherit__map">
<area shape="rect" id="node2" href="classFFmpeg__Base.html" title="The FFmpeg_Base class. " alt="" coords="5,5,112,32"/>
<area shape="rect" id="node3" href="classFFmpeg__Profiles.html" title="The FFmpeg_Profiles class. " alt="" coords="137,5,258,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for FFmpeg_Transcoder:</div>
<div class="dyncontent">
<div class="center"><img src="classFFmpeg__Transcoder__coll__graph.png" border="0" usemap="#FFmpeg__Transcoder_coll__map" alt="Collaboration graph"/></div>
<map name="FFmpeg__Transcoder_coll__map" id="FFmpeg__Transcoder_coll__map">
<area shape="rect" id="node2" href="classFFmpeg__Base.html" title="The FFmpeg_Base class. " alt="" coords="722,97,829,124"/>
<area shape="rect" id="node3" href="structVIRTUALFILE.html" title="Virtual file definition. " alt="" coords="428,93,535,120"/>
<area shape="rect" id="node4" href="structVIRTUALFILE_1_1VCD__CHAPTER.html" title="Extra value structure for Video CDs. " alt="" coords="5,5,221,32"/>
<area shape="rect" id="node5" href="structVIRTUALFILE_1_1BLURAY__CHAPTER.html" title="Extra value structure for Bluray Disks. " alt="" coords="29,57,198,98"/>
<area shape="rect" id="node6" href="structVIRTUALFILE_1_1DVD__CHAPTER.html" title="Extra value structure for DVDs. " alt="" coords="5,123,221,149"/>
<area shape="rect" id="node7" href="classFFmpeg__Profiles.html" title="The FFmpeg_Profiles class. " alt="" coords="715,148,836,175"/>
<area shape="rect" id="node8" href="structFFmpeg__Profiles_1_1PROFILE__LIST.html" title="List of profiles. " alt="" coords="371,148,592,175"/>
<area shape="rect" id="node9" href="structFFmpeg__Profiles_1_1PROFILE__OPTION.html" title="Profiles options. " alt="" coords="20,174,207,215"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFFmpeg__Transcoder_1_1INPUTFILE.html">INPUTFILE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input file definition.  <a href="structFFmpeg__Transcoder_1_1INPUTFILE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFFmpeg__Transcoder_1_1OUTPUTFILE.html">OUTPUTFILE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output file definition.  <a href="structFFmpeg__Transcoder_1_1OUTPUTFILE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html">PRORES_BITRATE</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicted bitrates for Apple Prores, see <a href="https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf">https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf</a>.  <a href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFFmpeg__Transcoder_1_1STREAMREF.html">STREAMREF</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">In/output stream reference data.  <a href="structFFmpeg__Transcoder_1_1STREAMREF.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aeb6446d6f91a8523d16284e13300e308"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html">FFmpeg_Transcoder::PRORES_BITRATE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aeb6446d6f91a8523d16284e13300e308">PRORES_BITRATE</a></td></tr>
<tr class="memdesc:aeb6446d6f91a8523d16284e13300e308"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicted bitrates for Apple Prores, see <a href="https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf">https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf</a>.  <a href="#aeb6446d6f91a8523d16284e13300e308">More...</a><br /></td></tr>
<tr class="separator:aeb6446d6f91a8523d16284e13300e308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521e0bc5c7fb5f9a96db0d2f738cfca0"><td class="memItemLeft" align="right" valign="top"><a id="a521e0bc5c7fb5f9a96db0d2f738cfca0"></a>
typedef struct <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html">FFmpeg_Transcoder::PRORES_BITRATE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a521e0bc5c7fb5f9a96db0d2f738cfca0">LPPRORES_BITRATE</a></td></tr>
<tr class="memdesc:a521e0bc5c7fb5f9a96db0d2f738cfca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer version of <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html" title="Predicted bitrates for Apple Prores, see https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_...">PRORES_BITRATE</a>. <br /></td></tr>
<tr class="separator:a521e0bc5c7fb5f9a96db0d2f738cfca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c03a48640c4c606583646aa36748e77"><td class="memItemLeft" align="right" valign="top"><a id="a1c03a48640c4c606583646aa36748e77"></a>
typedef <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html">PRORES_BITRATE</a> const  *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a1c03a48640c4c606583646aa36748e77">LPCPRORES_BITRATE</a></td></tr>
<tr class="memdesc:a1c03a48640c4c606583646aa36748e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to const version of <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html" title="Predicted bitrates for Apple Prores, see https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_...">PRORES_BITRATE</a>. <br /></td></tr>
<tr class="separator:a1c03a48640c4c606583646aa36748e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65d1570366ac1d759e197a754840ae27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a65d1570366ac1d759e197a754840ae27">FFmpeg_Transcoder</a> ()</td></tr>
<tr class="separator:a65d1570366ac1d759e197a754840ae27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af20ff945bd865539207ea927cb5f7ec8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#af20ff945bd865539207ea927cb5f7ec8">~FFmpeg_Transcoder</a> ()</td></tr>
<tr class="separator:af20ff945bd865539207ea927cb5f7ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae5d70063ce52f3b9ccf5157265d97b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#abae5d70063ce52f3b9ccf5157265d97b">is_open</a> () const</td></tr>
<tr class="separator:abae5d70063ce52f3b9ccf5157265d97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556a0c7071ee2e8e249ef35eb7c64ec7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a556a0c7071ee2e8e249ef35eb7c64ec7">open_input_file</a> (<a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a> virtualfile, <a class="el" href="classFileIO.html">FileIO</a> *fio=nullptr)</td></tr>
<tr class="separator:a556a0c7071ee2e8e249ef35eb7c64ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17eddfaa818018ceabb87165d44b968"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ac17eddfaa818018ceabb87165d44b968">open_output_file</a> (<a class="el" href="classBuffer.html">Buffer</a> *buffer)</td></tr>
<tr class="memdesc:ac17eddfaa818018ceabb87165d44b968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open output file. Data will actually be written to buffer and copied by FUSE when accessed.  <a href="#ac17eddfaa818018ceabb87165d44b968">More...</a><br /></td></tr>
<tr class="separator:ac17eddfaa818018ceabb87165d44b968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33fe2abcc0767204dcd6dab22980d54e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a33fe2abcc0767204dcd6dab22980d54e">process_single_fr</a> (int &amp;status)</td></tr>
<tr class="separator:a33fe2abcc0767204dcd6dab22980d54e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521bb83e1e6862028fc272e1667355f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a521bb83e1e6862028fc272e1667355f7">encode_finish</a> ()</td></tr>
<tr class="separator:a521bb83e1e6862028fc272e1667355f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacd9f5d19d16bc7b11579609e242c559"><td class="memItemLeft" align="right" valign="top"><a id="aacd9f5d19d16bc7b11579609e242c559"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aacd9f5d19d16bc7b11579609e242c559">close</a> ()</td></tr>
<tr class="memdesc:aacd9f5d19d16bc7b11579609e242c559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close transcoder, free all ressources. <br /></td></tr>
<tr class="separator:aacd9f5d19d16bc7b11579609e242c559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac390e42bd912f1579fc27b33495f2f08"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ac390e42bd912f1579fc27b33495f2f08">mtime</a> () const</td></tr>
<tr class="memdesc:ac390e42bd912f1579fc27b33495f2f08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get last modification time of file.  <a href="#ac390e42bd912f1579fc27b33495f2f08">More...</a><br /></td></tr>
<tr class="separator:ac390e42bd912f1579fc27b33495f2f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7f2e1ecea535b2f02551d4e49200b0"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aaf7f2e1ecea535b2f02551d4e49200b0">predicted_filesize</a> ()</td></tr>
<tr class="memdesc:aaf7f2e1ecea535b2f02551d4e49200b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to predict the recoded file size. This may (better will surely) be inaccurate.  <a href="#aaf7f2e1ecea535b2f02551d4e49200b0">More...</a><br /></td></tr>
<tr class="separator:aaf7f2e1ecea535b2f02551d4e49200b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84df98a3cadf75bd48b2bdc6afbd4846"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structID3v1.html">ID3v1</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a84df98a3cadf75bd48b2bdc6afbd4846">id3v1tag</a> () const</td></tr>
<tr class="memdesc:a84df98a3cadf75bd48b2bdc6afbd4846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assemble an <a class="el" href="structID3v1.html" title="ID3 version 1 tag ">ID3v1</a> file tag.  <a href="#a84df98a3cadf75bd48b2bdc6afbd4846">More...</a><br /></td></tr>
<tr class="separator:a84df98a3cadf75bd48b2bdc6afbd4846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f26856440e06fbcec3bd208b8067bfc"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a7f26856440e06fbcec3bd208b8067bfc">filename</a> () const</td></tr>
<tr class="memdesc:a7f26856440e06fbcec3bd208b8067bfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return source filename. Must be implemented in child class.  <a href="#a7f26856440e06fbcec3bd208b8067bfc">More...</a><br /></td></tr>
<tr class="separator:a7f26856440e06fbcec3bd208b8067bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b3727646f64c05617759abd08a7075"><td class="memItemLeft" align="right" valign="top">virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#af7b3727646f64c05617759abd08a7075">destname</a> () const</td></tr>
<tr class="memdesc:af7b3727646f64c05617759abd08a7075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return destination filename. Must be implemented in child class.  <a href="#af7b3727646f64c05617759abd08a7075">More...</a><br /></td></tr>
<tr class="separator:af7b3727646f64c05617759abd08a7075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3da80243660c43fca519725321d3907"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ac3da80243660c43fca519725321d3907">close_output_file</a> ()</td></tr>
<tr class="memdesc:ac3da80243660c43fca519725321d3907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the output file of open and reports lost packets. Can safely be called again after the file was already closed or if the file was never open.  <a href="#ac3da80243660c43fca519725321d3907">More...</a><br /></td></tr>
<tr class="separator:ac3da80243660c43fca519725321d3907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55add6e3975e57bfe1e73f017a74c584"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a55add6e3975e57bfe1e73f017a74c584">close_input_file</a> ()</td></tr>
<tr class="memdesc:a55add6e3975e57bfe1e73f017a74c584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the input file of open. Can safely be called again after the file was already closed or if the file was never open.  <a href="#a55add6e3975e57bfe1e73f017a74c584">More...</a><br /></td></tr>
<tr class="separator:a55add6e3975e57bfe1e73f017a74c584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classFFmpeg__Base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classFFmpeg__Base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classFFmpeg__Base.html">FFmpeg_Base</a></td></tr>
<tr class="memitem:aec5b2722c3e7a1b2fbc70256e48890e2 inherit pub_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top"><a id="aec5b2722c3e7a1b2fbc70256e48890e2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#aec5b2722c3e7a1b2fbc70256e48890e2">FFmpeg_Base</a> ()</td></tr>
<tr class="memdesc:aec5b2722c3e7a1b2fbc70256e48890e2 inherit pub_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct <a class="el" href="classFFmpeg__Base.html" title="The FFmpeg_Base class. ">FFmpeg_Base</a> oject. <br /></td></tr>
<tr class="separator:aec5b2722c3e7a1b2fbc70256e48890e2 inherit pub_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91b37784e9e22d4c4f21a96c3dd5ce9 inherit pub_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top"><a id="ae91b37784e9e22d4c4f21a96c3dd5ce9"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#ae91b37784e9e22d4c4f21a96c3dd5ce9">~FFmpeg_Base</a> ()</td></tr>
<tr class="memdesc:ae91b37784e9e22d4c4f21a96c3dd5ce9 inherit pub_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct <a class="el" href="classFFmpeg__Base.html" title="The FFmpeg_Base class. ">FFmpeg_Base</a> object. <br /></td></tr>
<tr class="separator:ae91b37784e9e22d4c4f21a96c3dd5ce9 inherit pub_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9ed226346c42ea1d3de3fd4c61573774"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a9ed226346c42ea1d3de3fd4c61573774">audio_size</a> (size_t *filesize, AVCodecID codec_id, <a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a> bit_rate, int64_t duration, int channels, int sample_rate)</td></tr>
<tr class="memdesc:a9ed226346c42ea1d3de3fd4c61573774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predict audio file size. This may (better will surely) be inaccurate.  <a href="#a9ed226346c42ea1d3de3fd4c61573774">More...</a><br /></td></tr>
<tr class="separator:a9ed226346c42ea1d3de3fd4c61573774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c544c5ae93090357de29b4f39075ae"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a52c544c5ae93090357de29b4f39075ae">video_size</a> (size_t *filesize, AVCodecID codec_id, <a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a> bit_rate, int64_t duration, int width, int height, int interleaved, const AVRational &amp;framerate)</td></tr>
<tr class="memdesc:a52c544c5ae93090357de29b4f39075ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predict video file size. This may (better will surely) be inaccurate.  <a href="#a52c544c5ae93090357de29b4f39075ae">More...</a><br /></td></tr>
<tr class="separator:a52c544c5ae93090357de29b4f39075ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a6e5172ec9ba20ff8229712b2ce4d2c11"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a6e5172ec9ba20ff8229712b2ce4d2c11">is_video</a> () const</td></tr>
<tr class="separator:a6e5172ec9ba20ff8229712b2ce4d2c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36783c960d444b735581941fe54b8d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ab36783c960d444b735581941fe54b8d4">update_codec</a> (void *opt, <a class="el" href="classFFmpeg__Profiles.html#a6cfb233e140c53383918469a3352d422">LPCPROFILE_OPTION</a> profile_option) const</td></tr>
<tr class="memdesc:ab36783c960d444b735581941fe54b8d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare codec options.  <a href="#ab36783c960d444b735581941fe54b8d4">More...</a><br /></td></tr>
<tr class="separator:ab36783c960d444b735581941fe54b8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942d65ca55684bbca639af2d0ea30143"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a942d65ca55684bbca639af2d0ea30143">prepare_codec</a> (void *opt, <a class="el" href="ffmpeg__utils_8h.html#adf12e2d9ad420681d96f755088d37237">FILETYPE</a> filetype) const</td></tr>
<tr class="memdesc:a942d65ca55684bbca639af2d0ea30143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare codec options for a file type.  <a href="#a942d65ca55684bbca639af2d0ea30143">More...</a><br /></td></tr>
<tr class="separator:a942d65ca55684bbca639af2d0ea30143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe22b3a4c7ad7fa2ca8219f5b76f2542"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#afe22b3a4c7ad7fa2ca8219f5b76f2542">add_stream</a> (AVCodecID codec_id)</td></tr>
<tr class="memdesc:afe22b3a4c7ad7fa2ca8219f5b76f2542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new stream to output file.  <a href="#afe22b3a4c7ad7fa2ca8219f5b76f2542">More...</a><br /></td></tr>
<tr class="separator:afe22b3a4c7ad7fa2ca8219f5b76f2542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8ce09d8256cd2d6200b87ea84044dc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a2e8ce09d8256cd2d6200b87ea84044dc">add_stream_copy</a> (AVCodecID codec_id, AVMediaType codec_type)</td></tr>
<tr class="memdesc:a2e8ce09d8256cd2d6200b87ea84044dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new stream copy to output file.  <a href="#a2e8ce09d8256cd2d6200b87ea84044dc">More...</a><br /></td></tr>
<tr class="separator:a2e8ce09d8256cd2d6200b87ea84044dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6903a86d5ed1ebee3258b981536f74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a7f6903a86d5ed1ebee3258b981536f74">add_albumart_stream</a> (const AVCodecContext *input_codec_ctx)</td></tr>
<tr class="memdesc:a7f6903a86d5ed1ebee3258b981536f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a stream for an album art.  <a href="#a7f6903a86d5ed1ebee3258b981536f74">More...</a><br /></td></tr>
<tr class="separator:a7f6903a86d5ed1ebee3258b981536f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ead4d48dfe32cb96e5495b4efadcf6a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a6ead4d48dfe32cb96e5495b4efadcf6a">add_albumart_frame</a> (AVStream *output_stream, AVPacket *pkt_in)</td></tr>
<tr class="memdesc:a6ead4d48dfe32cb96e5495b4efadcf6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add album art to stream.  <a href="#a6ead4d48dfe32cb96e5495b4efadcf6a">More...</a><br /></td></tr>
<tr class="separator:a6ead4d48dfe32cb96e5495b4efadcf6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97298697701d9e28f8c29580a6951237"><td class="memItemLeft" align="right" valign="top"><a id="a97298697701d9e28f8c29580a6951237"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a97298697701d9e28f8c29580a6951237">open_output_filestreams</a> (<a class="el" href="classBuffer.html">Buffer</a> *buffer)</td></tr>
<tr class="memdesc:a97298697701d9e28f8c29580a6951237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an output file and the required encoder. Also set some basic encoder parameters. Some of these parameters are based on the input file's parameters. <br /></td></tr>
<tr class="separator:a97298697701d9e28f8c29580a6951237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac582ce443ea0781a4b647f8701b73569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ac582ce443ea0781a4b647f8701b73569">copy_metadata</a> (AVDictionary **metadata_out, const AVDictionary *metadata_in)</td></tr>
<tr class="memdesc:ac582ce443ea0781a4b647f8701b73569"><td class="mdescLeft">&#160;</td><td class="mdescRight">copy_metadataBluray I/O class  <a href="#ac582ce443ea0781a4b647f8701b73569">More...</a><br /></td></tr>
<tr class="separator:ac582ce443ea0781a4b647f8701b73569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb1a10b6a56f504f03bd06142e2da43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#abcb1a10b6a56f504f03bd06142e2da43">process_metadata</a> ()</td></tr>
<tr class="memdesc:abcb1a10b6a56f504f03bd06142e2da43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy metadata from source to target.  <a href="#abcb1a10b6a56f504f03bd06142e2da43">More...</a><br /></td></tr>
<tr class="separator:abcb1a10b6a56f504f03bd06142e2da43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1313f014849b4990dbc7c9b1538c108"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ab1313f014849b4990dbc7c9b1538c108">process_albumarts</a> ()</td></tr>
<tr class="memdesc:ab1313f014849b4990dbc7c9b1538c108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy all album arts from source to target.  <a href="#ab1313f014849b4990dbc7c9b1538c108">More...</a><br /></td></tr>
<tr class="separator:ab1313f014849b4990dbc7c9b1538c108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6573a50f95e464137ca200abb19dbf5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a6573a50f95e464137ca200abb19dbf5e">init_resampler</a> ()</td></tr>
<tr class="memdesc:a6573a50f95e464137ca200abb19dbf5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the audio resampler based on the input and output codec settings. If the input and output sample formats differ, a conversion is required libswresample takes care of this, but requires initialization.  <a href="#a6573a50f95e464137ca200abb19dbf5e">More...</a><br /></td></tr>
<tr class="separator:a6573a50f95e464137ca200abb19dbf5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b4c7914aec45cde0303a6ecf2b03357"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a3b4c7914aec45cde0303a6ecf2b03357">init_fifo</a> ()</td></tr>
<tr class="memdesc:a3b4c7914aec45cde0303a6ecf2b03357"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a FIFO buffer for the audio samples to be encoded.  <a href="#a3b4c7914aec45cde0303a6ecf2b03357">More...</a><br /></td></tr>
<tr class="separator:a3b4c7914aec45cde0303a6ecf2b03357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e01b8069b6ecf5516c7b9ce2da4580"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aa2e01b8069b6ecf5516c7b9ce2da4580">update_format</a> (AVDictionary **dict, <a class="el" href="classFFmpeg__Profiles.html#a6cfb233e140c53383918469a3352d422">LPCPROFILE_OPTION</a> option) const</td></tr>
<tr class="memdesc:aa2e01b8069b6ecf5516c7b9ce2da4580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update format options.  <a href="#aa2e01b8069b6ecf5516c7b9ce2da4580">More...</a><br /></td></tr>
<tr class="separator:aa2e01b8069b6ecf5516c7b9ce2da4580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446ae8092e28817c97c3fb74ad1acc19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a446ae8092e28817c97c3fb74ad1acc19">prepare_format</a> (AVDictionary **dict, <a class="el" href="ffmpeg__utils_8h.html#adf12e2d9ad420681d96f755088d37237">FILETYPE</a> filetype) const</td></tr>
<tr class="memdesc:a446ae8092e28817c97c3fb74ad1acc19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare format optimisations.  <a href="#a446ae8092e28817c97c3fb74ad1acc19">More...</a><br /></td></tr>
<tr class="separator:a446ae8092e28817c97c3fb74ad1acc19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e8f3a668b66cec31e5b10042cf80c2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a9e8f3a668b66cec31e5b10042cf80c2a">write_output_file_header</a> ()</td></tr>
<tr class="memdesc:a9e8f3a668b66cec31e5b10042cf80c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header of the output file container.  <a href="#a9e8f3a668b66cec31e5b10042cf80c2a">More...</a><br /></td></tr>
<tr class="separator:a9e8f3a668b66cec31e5b10042cf80c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abceb28b49497f563291f6755a3934edb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#abceb28b49497f563291f6755a3934edb">store_packet</a> (AVPacket *pkt, const char *type)</td></tr>
<tr class="memdesc:abceb28b49497f563291f6755a3934edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store packet in output stream.  <a href="#abceb28b49497f563291f6755a3934edb">More...</a><br /></td></tr>
<tr class="separator:abceb28b49497f563291f6755a3934edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26699456ab881329e1ca9aebae74ba5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ab26699456ab881329e1ca9aebae74ba5">decode_audio_frame</a> (AVPacket *pkt, int *decoded)</td></tr>
<tr class="memdesc:ab26699456ab881329e1ca9aebae74ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode one audio frame.  <a href="#ab26699456ab881329e1ca9aebae74ba5">More...</a><br /></td></tr>
<tr class="separator:ab26699456ab881329e1ca9aebae74ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d6501228351ff6407f0af09596d09f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a45d6501228351ff6407f0af09596d09f">decode_video_frame</a> (AVPacket *pkt, int *decoded)</td></tr>
<tr class="memdesc:a45d6501228351ff6407f0af09596d09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode one video frame.  <a href="#a45d6501228351ff6407f0af09596d09f">More...</a><br /></td></tr>
<tr class="separator:a45d6501228351ff6407f0af09596d09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c31a851e95a6fb714b2908c83ec696"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a96c31a851e95a6fb714b2908c83ec696">decode_frame</a> (AVPacket *pkt)</td></tr>
<tr class="memdesc:a96c31a851e95a6fb714b2908c83ec696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode one frame.  <a href="#a96c31a851e95a6fb714b2908c83ec696">More...</a><br /></td></tr>
<tr class="separator:a96c31a851e95a6fb714b2908c83ec696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a509e0e8082e8f270388ebb6abad29907"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a509e0e8082e8f270388ebb6abad29907">init_converted_samples</a> (uint8_t ***converted_input_samples, int frame_size)</td></tr>
<tr class="memdesc:a509e0e8082e8f270388ebb6abad29907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a temporary storage for the specified number of audio samples. The conversion requires temporary storage due to the different format. The number of audio samples to be allocated is specified in frame_size.  <a href="#a509e0e8082e8f270388ebb6abad29907">More...</a><br /></td></tr>
<tr class="separator:a509e0e8082e8f270388ebb6abad29907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3ad7eef000399122463376320acb54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ada3ad7eef000399122463376320acb54">convert_samples</a> (uint8_t **input_data, int in_samples, uint8_t **converted_data, int *out_samples)</td></tr>
<tr class="memdesc:ada3ad7eef000399122463376320acb54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the input audio samples into the output sample format. The conversion happens on a per-frame basis, the size of which is specified by frame_size.  <a href="#ada3ad7eef000399122463376320acb54">More...</a><br /></td></tr>
<tr class="separator:ada3ad7eef000399122463376320acb54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a175b227e2975a3be0578787900c02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a02a175b227e2975a3be0578787900c02">add_samples_to_fifo</a> (uint8_t **converted_input_samples, int frame_size)</td></tr>
<tr class="memdesc:a02a175b227e2975a3be0578787900c02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add converted input audio samples to the FIFO buffer for later processing.  <a href="#a02a175b227e2975a3be0578787900c02">More...</a><br /></td></tr>
<tr class="separator:a02a175b227e2975a3be0578787900c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f90d7ec4715b359d5b666f5ab4b23b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a0f90d7ec4715b359d5b666f5ab4b23b7">flush_frames_all</a> (bool use_flush_packet)</td></tr>
<tr class="memdesc:a0f90d7ec4715b359d5b666f5ab4b23b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the remaining frames for all streams.  <a href="#a0f90d7ec4715b359d5b666f5ab4b23b7">More...</a><br /></td></tr>
<tr class="separator:a0f90d7ec4715b359d5b666f5ab4b23b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9887b1d045884e2e822c5d1c3432e8d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ab9887b1d045884e2e822c5d1c3432e8d">flush_frames_single</a> (int stream_index, bool use_flush_packet)</td></tr>
<tr class="memdesc:ab9887b1d045884e2e822c5d1c3432e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the remaining frames.  <a href="#ab9887b1d045884e2e822c5d1c3432e8d">More...</a><br /></td></tr>
<tr class="separator:ab9887b1d045884e2e822c5d1c3432e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afa2189ecd068bcbaa1054835db27c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a6afa2189ecd068bcbaa1054835db27c4">read_decode_convert_and_store</a> (int *finished)</td></tr>
<tr class="memdesc:a6afa2189ecd068bcbaa1054835db27c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read frame from source file, decode and store in FIFO.  <a href="#a6afa2189ecd068bcbaa1054835db27c4">More...</a><br /></td></tr>
<tr class="separator:a6afa2189ecd068bcbaa1054835db27c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae459f2a8794c63f7ff38fd9c80fcfb45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ae459f2a8794c63f7ff38fd9c80fcfb45">init_audio_output_frame</a> (AVFrame **frame, int frame_size)</td></tr>
<tr class="memdesc:ae459f2a8794c63f7ff38fd9c80fcfb45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise one input frame for writing to the output file. The frame will be exactly frame_size samples large.  <a href="#ae459f2a8794c63f7ff38fd9c80fcfb45">More...</a><br /></td></tr>
<tr class="separator:ae459f2a8794c63f7ff38fd9c80fcfb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af770b448fa5ff9a595911d2d2c0289e3"><td class="memItemLeft" align="right" valign="top">AVFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#af770b448fa5ff9a595911d2d2c0289e3">alloc_picture</a> (AVPixelFormat pix_fmt, int width, int height)</td></tr>
<tr class="memdesc:af770b448fa5ff9a595911d2d2c0289e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate memory for one picture.  <a href="#af770b448fa5ff9a595911d2d2c0289e3">More...</a><br /></td></tr>
<tr class="separator:af770b448fa5ff9a595911d2d2c0289e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9493510e3944742d2027f0d2b459f0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#ae9493510e3944742d2027f0d2b459f0c">produce_audio_dts</a> (AVPacket *pkt)</td></tr>
<tr class="memdesc:ae9493510e3944742d2027f0d2b459f0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce audio dts/pts. This is required because the target codec usually has a different frame size than the source, so the number of packets will not match 1:1.  <a href="#ae9493510e3944742d2027f0d2b459f0c">More...</a><br /></td></tr>
<tr class="separator:ae9493510e3944742d2027f0d2b459f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a3bf4bf02d83037b7b9160560e970d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a66a3bf4bf02d83037b7b9160560e970d">decode</a> (AVCodecContext *avctx, AVFrame *frame, int *got_frame, const AVPacket *pkt) const</td></tr>
<tr class="separator:a66a3bf4bf02d83037b7b9160560e970d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc23e2d1591fa27090622c217a7e3fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#affc23e2d1591fa27090622c217a7e3fd">encode_audio_frame</a> (const AVFrame *frame, int *data_present)</td></tr>
<tr class="memdesc:affc23e2d1591fa27090622c217a7e3fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode one frame worth of audio to the output file.  <a href="#affc23e2d1591fa27090622c217a7e3fd">More...</a><br /></td></tr>
<tr class="separator:affc23e2d1591fa27090622c217a7e3fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f31ad62ffd89e4ea45a357bc8a746a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a67f31ad62ffd89e4ea45a357bc8a746a">encode_video_frame</a> (const AVFrame *frame, int *data_present)</td></tr>
<tr class="memdesc:a67f31ad62ffd89e4ea45a357bc8a746a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode one frame worth of video to the output file.  <a href="#a67f31ad62ffd89e4ea45a357bc8a746a">More...</a><br /></td></tr>
<tr class="separator:a67f31ad62ffd89e4ea45a357bc8a746a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa312d18182b1fccba166477a66ff3b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#afa312d18182b1fccba166477a66ff3b1">load_encode_and_write</a> (int frame_size)</td></tr>
<tr class="memdesc:afa312d18182b1fccba166477a66ff3b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load one audio frame from the FIFO buffer, encode and write it to the output file.  <a href="#afa312d18182b1fccba166477a66ff3b1">More...</a><br /></td></tr>
<tr class="separator:afa312d18182b1fccba166477a66ff3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad58ed3d5a8dc2f608e94a696d4cc3ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aad58ed3d5a8dc2f608e94a696d4cc3ac">write_output_file_trailer</a> ()</td></tr>
<tr class="memdesc:aad58ed3d5a8dc2f608e94a696d4cc3ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the trailer of the output file container.  <a href="#aad58ed3d5a8dc2f608e94a696d4cc3ac">More...</a><br /></td></tr>
<tr class="separator:aad58ed3d5a8dc2f608e94a696d4cc3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854e9576e697fb877c2e344c5c203947"><td class="memItemLeft" align="right" valign="top"><a id="a854e9576e697fb877c2e344c5c203947"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a854e9576e697fb877c2e344c5c203947">calculate_predicted_filesize</a> () const</td></tr>
<tr class="memdesc:a854e9576e697fb877c2e344c5c203947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to predict final file size. <br /></td></tr>
<tr class="separator:a854e9576e697fb877c2e344c5c203947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c3726c0165e3061d1fc4ef66985e87"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#af7c3726c0165e3061d1fc4ef66985e87">get_video_size</a> (int *output_width, int *output_height) const</td></tr>
<tr class="memdesc:af7c3726c0165e3061d1fc4ef66985e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the output video based on user selection and apsect ratio.  <a href="#af7c3726c0165e3061d1fc4ef66985e87">More...</a><br /></td></tr>
<tr class="separator:af7c3726c0165e3061d1fc4ef66985e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e8d1769bf1ec0917d0cc55e9d50cc2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a60e8d1769bf1ec0917d0cc55e9d50cc2">get_aspect_ratio</a> (int width, int height, const AVRational &amp;sar, AVRational *ar) const</td></tr>
<tr class="memdesc:a60e8d1769bf1ec0917d0cc55e9d50cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate aspect ratio for width/height and sample aspect ratio (sar).  <a href="#a60e8d1769bf1ec0917d0cc55e9d50cc2">More...</a><br /></td></tr>
<tr class="separator:a60e8d1769bf1ec0917d0cc55e9d50cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b48878a9fae5be071564fdcd5d3a03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#af7b48878a9fae5be071564fdcd5d3a03">init_deinterlace_filters</a> (AVCodecContext *codec_context, AVPixelFormat pix_fmt, const AVRational &amp;avg_frame_rate, const AVRational &amp;time_base)</td></tr>
<tr class="memdesc:af7b48878a9fae5be071564fdcd5d3a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise video filters.  <a href="#af7b48878a9fae5be071564fdcd5d3a03">More...</a><br /></td></tr>
<tr class="separator:af7b48878a9fae5be071564fdcd5d3a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267431703dc89cb7af872b104330dab0"><td class="memItemLeft" align="right" valign="top">AVFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a267431703dc89cb7af872b104330dab0">send_filters</a> (AVFrame *srcframe, int &amp;ret)</td></tr>
<tr class="memdesc:a267431703dc89cb7af872b104330dab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send video frame to the filters.  <a href="#a267431703dc89cb7af872b104330dab0">More...</a><br /></td></tr>
<tr class="separator:a267431703dc89cb7af872b104330dab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0feb18e287c35ad3ffa184f727bdd67"><td class="memItemLeft" align="right" valign="top"><a id="aa0feb18e287c35ad3ffa184f727bdd67"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aa0feb18e287c35ad3ffa184f727bdd67">free_filters</a> ()</td></tr>
<tr class="memdesc:aa0feb18e287c35ad3ffa184f727bdd67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free filter sinks. <br /></td></tr>
<tr class="separator:aa0feb18e287c35ad3ffa184f727bdd67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1608f6c5c6d8efe099b8e9869cd259"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a1f1608f6c5c6d8efe099b8e9869cd259">can_copy_stream</a> (const AVStream *stream) const</td></tr>
<tr class="memdesc:a1f1608f6c5c6d8efe099b8e9869cd259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if stream can be copied from input to output (AUTOCOPY option).  <a href="#a1f1608f6c5c6d8efe099b8e9869cd259">More...</a><br /></td></tr>
<tr class="separator:a1f1608f6c5c6d8efe099b8e9869cd259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6945c2faeb27af1db8a75ef3d52efd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aaf6945c2faeb27af1db8a75ef3d52efd">close_resample</a> ()</td></tr>
<tr class="memdesc:aaf6945c2faeb27af1db8a75ef3d52efd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close and free the resampler context.  <a href="#aaf6945c2faeb27af1db8a75ef3d52efd">More...</a><br /></td></tr>
<tr class="separator:aaf6945c2faeb27af1db8a75ef3d52efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb61c1ba5a92ec7d8c8797f57938228"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#abcb61c1ba5a92ec7d8c8797f57938228">init_rescaler</a> (AVPixelFormat in_pix_fmt, int in_width, int in_height, AVPixelFormat out_pix_fmt, int out_width, int out_height)</td></tr>
<tr class="memdesc:abcb61c1ba5a92ec7d8c8797f57938228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init image size rescaler and pixel format converter.  <a href="#abcb61c1ba5a92ec7d8c8797f57938228">More...</a><br /></td></tr>
<tr class="separator:abcb61c1ba5a92ec7d8c8797f57938228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1cc434aa4645ea96dc29767e0965c0"><td class="memItemLeft" align="right" valign="top"><a id="acb1cc434aa4645ea96dc29767e0965c0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#acb1cc434aa4645ea96dc29767e0965c0">purge_fifos</a> ()</td></tr>
<tr class="memdesc:acb1cc434aa4645ea96dc29767e0965c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purge FIFO buffers and report lost packet. <br /></td></tr>
<tr class="separator:acb1cc434aa4645ea96dc29767e0965c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classFFmpeg__Base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classFFmpeg__Base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classFFmpeg__Base.html">FFmpeg_Base</a></td></tr>
<tr class="memitem:a925916f722960f55c2bd6bced185d1cb inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a925916f722960f55c2bd6bced185d1cb">open_bestmatch_codec_context</a> (AVCodecContext **avctx, int *stream_idx, AVFormatContext *fmt_ctx, AVMediaType type, const char *<a class="el" href="classFFmpeg__Base.html#ab286a55ddff32db33af199b60145751b">filename</a>=nullptr) const</td></tr>
<tr class="memdesc:a925916f722960f55c2bd6bced185d1cb inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find best match stream and open codec context for it.  <a href="classFFmpeg__Base.html#a925916f722960f55c2bd6bced185d1cb">More...</a><br /></td></tr>
<tr class="separator:a925916f722960f55c2bd6bced185d1cb inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abf821def3cd9b2bedb45014004ea65 inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a6abf821def3cd9b2bedb45014004ea65">open_codec_context</a> (AVCodecContext **avctx, int stream_idx, AVFormatContext *fmt_ctx, AVMediaType type, const char *<a class="el" href="classFFmpeg__Base.html#ab286a55ddff32db33af199b60145751b">filename</a>=nullptr) const</td></tr>
<tr class="memdesc:a6abf821def3cd9b2bedb45014004ea65 inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open codec context for stream_idx.  <a href="classFFmpeg__Base.html#a6abf821def3cd9b2bedb45014004ea65">More...</a><br /></td></tr>
<tr class="separator:a6abf821def3cd9b2bedb45014004ea65 inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4fb083c96960f22be6a6d63a6cff0be inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#ac4fb083c96960f22be6a6d63a6cff0be">init_packet</a> (AVPacket *pkt) const</td></tr>
<tr class="memdesc:ac4fb083c96960f22be6a6d63a6cff0be inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise one data packet for reading or writing.  <a href="classFFmpeg__Base.html#ac4fb083c96960f22be6a6d63a6cff0be">More...</a><br /></td></tr>
<tr class="separator:ac4fb083c96960f22be6a6d63a6cff0be inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96604e2d3bee08e567976023fc1e1965 inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a96604e2d3bee08e567976023fc1e1965">init_frame</a> (AVFrame **frame, const char *<a class="el" href="classFFmpeg__Base.html#ab286a55ddff32db33af199b60145751b">filename</a>=nullptr) const</td></tr>
<tr class="memdesc:a96604e2d3bee08e567976023fc1e1965 inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise one frame for reading from the input file.  <a href="classFFmpeg__Base.html#a96604e2d3bee08e567976023fc1e1965">More...</a><br /></td></tr>
<tr class="separator:a96604e2d3bee08e567976023fc1e1965 inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c41e35cb9411b15db72a733930dc2c inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a07c41e35cb9411b15db72a733930dc2c">video_stream_setup</a> (AVCodecContext *output_codec_ctx, AVStream *output_stream, AVCodecContext *input_codec_ctx, AVRational framerate) const</td></tr>
<tr class="memdesc:a07c41e35cb9411b15db72a733930dc2c inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up video stream.  <a href="classFFmpeg__Base.html#a07c41e35cb9411b15db72a733930dc2c">More...</a><br /></td></tr>
<tr class="separator:a07c41e35cb9411b15db72a733930dc2c inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec6bb914228e9716350b02c6fd7874e inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#afec6bb914228e9716350b02c6fd7874e">av_dict_set_with_check</a> (AVDictionary **pm, const char *key, const char *value, int flags, const char *<a class="el" href="classFFmpeg__Base.html#ab286a55ddff32db33af199b60145751b">filename</a>=nullptr) const</td></tr>
<tr class="memdesc:afec6bb914228e9716350b02c6fd7874e inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call av_dict_set and check result code. Displays an error message if appropriate.  <a href="classFFmpeg__Base.html#afec6bb914228e9716350b02c6fd7874e">More...</a><br /></td></tr>
<tr class="separator:afec6bb914228e9716350b02c6fd7874e inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231653f44a892d80b5da688abc1a5927 inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a231653f44a892d80b5da688abc1a5927">av_opt_set_with_check</a> (void *obj, const char *key, const char *value, int flags, const char *<a class="el" href="classFFmpeg__Base.html#ab286a55ddff32db33af199b60145751b">filename</a>=nullptr) const</td></tr>
<tr class="memdesc:a231653f44a892d80b5da688abc1a5927 inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call av_opt_set and check result code. Displays an error message if appropriate.  <a href="classFFmpeg__Base.html#a231653f44a892d80b5da688abc1a5927">More...</a><br /></td></tr>
<tr class="separator:a231653f44a892d80b5da688abc1a5927 inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a555cacce9857bf9348b07ad8205e17 inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a6a555cacce9857bf9348b07ad8205e17">video_info</a> (bool out_file, const AVFormatContext *format_ctx, const AVStream *stream) const</td></tr>
<tr class="memdesc:a6a555cacce9857bf9348b07ad8205e17 inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print info of video stream to log.  <a href="classFFmpeg__Base.html#a6a555cacce9857bf9348b07ad8205e17">More...</a><br /></td></tr>
<tr class="separator:a6a555cacce9857bf9348b07ad8205e17 inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47da7eeb83c4a861c20e020846bc3dc3 inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a47da7eeb83c4a861c20e020846bc3dc3">audio_info</a> (bool out_file, const AVFormatContext *format_ctx, const AVStream *stream) const</td></tr>
<tr class="memdesc:a47da7eeb83c4a861c20e020846bc3dc3 inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print info of audio stream to log.  <a href="classFFmpeg__Base.html#a47da7eeb83c4a861c20e020846bc3dc3">More...</a><br /></td></tr>
<tr class="separator:a47da7eeb83c4a861c20e020846bc3dc3 inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5de03d03c4d24c71089fbbab402e4a inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a9c5de03d03c4d24c71089fbbab402e4a">get_pix_fmt_name</a> (AVPixelFormat pix_fmt) const</td></tr>
<tr class="memdesc:a9c5de03d03c4d24c71089fbbab402e4a inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls av_get_pix_fmt_name and returns a std::string with the pix format name.  <a href="classFFmpeg__Base.html#a9c5de03d03c4d24c71089fbbab402e4a">More...</a><br /></td></tr>
<tr class="separator:a9c5de03d03c4d24c71089fbbab402e4a inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99e1123a196de9a6bc4a8f8899abf70 inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#aa99e1123a196de9a6bc4a8f8899abf70">get_sample_fmt_name</a> (AVSampleFormat sample_fmt) const</td></tr>
<tr class="memdesc:aa99e1123a196de9a6bc4a8f8899abf70 inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls av_get_sample_fmt_name and returns a std::string with the format name.  <a href="classFFmpeg__Base.html#aa99e1123a196de9a6bc4a8f8899abf70">More...</a><br /></td></tr>
<tr class="separator:aa99e1123a196de9a6bc4a8f8899abf70 inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a97a54ed90b13e273fe996aaf49141 inherit pro_methods_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a82a97a54ed90b13e273fe996aaf49141">get_channel_layout_name</a> (int nb_channels, uint64_t channel_layout) const</td></tr>
<tr class="memdesc:a82a97a54ed90b13e273fe996aaf49141 inherit pro_methods_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls av_get_channel_layout_string and returns a std::string with the channel layout.  <a href="classFFmpeg__Base.html#a82a97a54ed90b13e273fe996aaf49141">More...</a><br /></td></tr>
<tr class="separator:a82a97a54ed90b13e273fe996aaf49141 inherit pro_methods_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a203942f9d2bb0d8dbcb547624fe6c728"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a203942f9d2bb0d8dbcb547624fe6c728">input_read</a> (void *opaque, unsigned char *data, int size)</td></tr>
<tr class="memdesc:a203942f9d2bb0d8dbcb547624fe6c728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom read function for FFmpeg.  <a href="#a203942f9d2bb0d8dbcb547624fe6c728">More...</a><br /></td></tr>
<tr class="separator:a203942f9d2bb0d8dbcb547624fe6c728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3110f05414808742ea6d579191982bf5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a3110f05414808742ea6d579191982bf5">output_write</a> (void *opaque, unsigned char *data, int size)</td></tr>
<tr class="memdesc:a3110f05414808742ea6d579191982bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom write function for FFmpeg.  <a href="#a3110f05414808742ea6d579191982bf5">More...</a><br /></td></tr>
<tr class="separator:a3110f05414808742ea6d579191982bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6c0aabe9bdc1b75aacb60f180c55fa"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a8b6c0aabe9bdc1b75aacb60f180c55fa">seek</a> (void *opaque, int64_t offset, int whence)</td></tr>
<tr class="memdesc:a8b6c0aabe9bdc1b75aacb60f180c55fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom seek function for FFmpeg.  <a href="#a8b6c0aabe9bdc1b75aacb60f180c55fa">More...</a><br /></td></tr>
<tr class="separator:a8b6c0aabe9bdc1b75aacb60f180c55fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b7b0b40d36d9a23c50db1bda378b12"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#aa9b7b0b40d36d9a23c50db1bda378b12">get_prores_bitrate</a> (int width, int height, const AVRational &amp;framerate, int interleaved, int profile)</td></tr>
<tr class="memdesc:aa9b7b0b40d36d9a23c50db1bda378b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the appropriate bitrate for a ProRes file given several parameters.  <a href="#aa9b7b0b40d36d9a23c50db1bda378b12">More...</a><br /></td></tr>
<tr class="separator:aa9b7b0b40d36d9a23c50db1bda378b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54554e2e1177c1c1fc185c7c2e7f9d78"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#a54554e2e1177c1c1fc185c7c2e7f9d78">get_output_sample_rate</a> (int input_sample_rate, int max_sample_rate, int *output_sample_rate=nullptr)</td></tr>
<tr class="memdesc:a54554e2e1177c1c1fc185c7c2e7f9d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate output sample rate based on user option.  <a href="#a54554e2e1177c1c1fc185c7c2e7f9d78">More...</a><br /></td></tr>
<tr class="separator:a54554e2e1177c1c1fc185c7c2e7f9d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26399e6b5c677b4d8eb0072dafcd05b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Transcoder.html#af26399e6b5c677b4d8eb0072dafcd05b">get_output_bit_rate</a> (<a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a> input_bit_rate, <a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a> max_bit_rate, <a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a> *output_bit_rate=nullptr)</td></tr>
<tr class="memdesc:af26399e6b5c677b4d8eb0072dafcd05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate output bit rate based on user option.  <a href="#af26399e6b5c677b4d8eb0072dafcd05b">More...</a><br /></td></tr>
<tr class="separator:af26399e6b5c677b4d8eb0072dafcd05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classFFmpeg__Base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classFFmpeg__Base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classFFmpeg__Base.html">FFmpeg_Base</a></td></tr>
<tr class="memitem:a79f2cb50858ef7380255875619feb682 inherit pro_attribs_classFFmpeg__Base"><td class="memItemLeft" align="right" valign="top"><a id="a79f2cb50858ef7380255875619feb682"></a>
<a class="el" href="structVIRTUALFILE.html">VIRTUALFILE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFFmpeg__Base.html#a79f2cb50858ef7380255875619feb682">m_virtualfile</a></td></tr>
<tr class="memdesc:a79f2cb50858ef7380255875619feb682 inherit pro_attribs_classFFmpeg__Base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Underlying virtual file object. <br /></td></tr>
<tr class="separator:a79f2cb50858ef7380255875619feb682 inherit pro_attribs_classFFmpeg__Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classFFmpeg__Transcoder.html" title="The FFmpeg_Transcoder class. ">FFmpeg_Transcoder</a> class. </p>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000002">Bug:</a></b></dt><dd>Issue #32: After transcoding several files VMEM usage sometimes goes off the edge.<br />
After playing files for a while, sometimes the VME usage goes up to the machine limit, In this particular case the machine has 32 GB RAM with 13 GB free. Never happens if the files are copied via Samba or directly, but only if played through a web server. Probably has to do with slow connections and time outs.</dd></dl>
<dl class="bug"><dt><b><a class="el" href="bug.html#_bug000003">Bug:</a></b></dt><dd>Issue #33: H265 decoding does not work.<br />
Decoding H265 files fails. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8h_source.html#l00069">69</a> of file <a class="el" href="ffmpeg__transcoder_8h_source.html">ffmpeg_transcoder.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aeb6446d6f91a8523d16284e13300e308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb6446d6f91a8523d16284e13300e308">&#9670;&nbsp;</a></span>PRORES_BITRATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html">FFmpeg_Transcoder::PRORES_BITRATE</a>  <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html">FFmpeg_Transcoder::PRORES_BITRATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicted bitrates for Apple Prores, see <a href="https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf">https://www.apple.com/final-cut-pro/docs/Apple_ProRes_White_Paper.pdf</a>. </p>
<p>&lt;List of ProRes bit rates </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a65d1570366ac1d759e197a754840ae27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d1570366ac1d759e197a754840ae27">&#9670;&nbsp;</a></span>FFmpeg_Transcoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FFmpeg_Transcoder::FFmpeg_Transcoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct <a class="el" href="classFFmpeg__Transcoder.html" title="The FFmpeg_Transcoder class. ">FFmpeg_Transcoder</a> object </p>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00153">153</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8cc_source.html#l00729">init_id3v1()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00142">FFmpeg_Transcoder::OUTPUTFILE::m_id3v1</a>, and <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>.</p>

</div>
</div>
<a id="af20ff945bd865539207ea927cb5f7ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af20ff945bd865539207ea927cb5f7ec8">&#9670;&nbsp;</a></span>~FFmpeg_Transcoder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FFmpeg_Transcoder::~FFmpeg_Transcoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy FFMPEG_Transcoder object Close and free all internal structures. </p>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00180">180</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04084">close()</a>, and <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6ead4d48dfe32cb96e5495b4efadcf6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ead4d48dfe32cb96e5495b4efadcf6a">&#9670;&nbsp;</a></span>add_albumart_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::add_albumart_frame </td>
          <td>(</td>
          <td class="paramtype">AVStream *&#160;</td>
          <td class="paramname"><em>output_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVPacket *&#160;</td>
          <td class="paramname"><em>pkt_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add album art to stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">output_stream</td><td>- Output stream. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt_in</td><td>- Packet with album art. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01619">1619</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02403">store_packet()</a>, and <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02415">decode_frame()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03267">process_albumarts()</a>.</p>

</div>
</div>
<a id="a7f6903a86d5ed1ebee3258b981536f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6903a86d5ed1ebee3258b981536f74">&#9670;&nbsp;</a></span>add_albumart_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::add_albumart_stream </td>
          <td>(</td>
          <td class="paramtype">const AVCodecContext *&#160;</td>
          <td class="paramname"><em>input_codec_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a stream for an album art. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input_codec_ctx</td><td>- Input codec context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>: Support album arts </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01506">1506</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8h_source.html#l00134">AV_CODEC_FLAG_GLOBAL_HEADER</a>, <a class="el" href="logging_8h_source.html#l00185">Logging::debug()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00600">get_codec_name()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00418">get_media_type_string()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00128">FFmpeg_Transcoder::INPUTFILE::m_album_art</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>.</p>

</div>
</div>
<a id="a02a175b227e2975a3be0578787900c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a175b227e2975a3be0578787900c02">&#9670;&nbsp;</a></span>add_samples_to_fifo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::add_samples_to_fifo </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>converted_input_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add converted input audio samples to the FIFO buffer for later processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">converted_input_samples</td><td>- Samples to add. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame_size</td><td>- Frame size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02652">2652</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, and <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>.</p>

</div>
</div>
<a id="afe22b3a4c7ad7fa2ca8219f5b76f2542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe22b3a4c7ad7fa2ca8219f5b76f2542">&#9670;&nbsp;</a></span>add_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::add_stream </td>
          <td>(</td>
          <td class="paramtype">AVCodecID&#160;</td>
          <td class="paramname"><em>codec_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add new stream to output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">codec_id</td><td>- Codec for this stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>: FFmpeg actually <em>can</em> transcode while presevering the SAR. Need to find out what I am doing wrong here... </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00879">879</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__base_8cc_source.html#l00277">FFmpeg_Base::av_dict_set_with_check()</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00148">BITRATE</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00153">CODECPAR</a>, <a class="el" href="logging_8h_source.html#l00185">Logging::debug()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00754">format_bitrate()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00775">format_samplerate()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00600">get_codec_name()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00418">get_media_type_string()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00686">get_output_bit_rate()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00666">get_output_sample_rate()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00749">get_video_size()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpegfs_8h_source.html#l00137">FFMPEGFS_PARAMS::m_audiobitrate</a>, <a class="el" href="ffmpegfs_8h_source.html#l00139">FFMPEGFS_PARAMS::m_audiochannels</a>, <a class="el" href="ffmpegfs_8h_source.html#l00138">FFMPEGFS_PARAMS::m_audiosamplerate</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00120">FFmpeg_Transcoder::INPUTFILE::m_filetype</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, <a class="el" href="ffmpegfs_8h_source.html#l00141">FFMPEGFS_PARAMS::m_videobitrate</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00826">prepare_codec()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l01058">strcasecmp()</a>, <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>, and <a class="el" href="ffmpeg__base_8cc_source.html#l00173">FFmpeg_Base::video_stream_setup()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>.</p>

</div>
</div>
<a id="a2e8ce09d8256cd2d6200b87ea84044dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8ce09d8256cd2d6200b87ea84044dc">&#9670;&nbsp;</a></span>add_stream_copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::add_stream_copy </td>
          <td>(</td>
          <td class="paramtype">AVCodecID&#160;</td>
          <td class="paramname"><em>codec_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVMediaType&#160;</td>
          <td class="paramname"><em>codec_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add new stream copy to output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">codec_id</td><td>- Codec for this stream. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">codec_type</td><td>- Codec type: audio or video. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01410">1410</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8h_source.html#l00153">CODECPAR</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, and <a class="el" href="ffmpeg__utils_8cc_source.html#l00966">print_stream_info()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>.</p>

</div>
</div>
<a id="af770b448fa5ff9a595911d2d2c0289e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af770b448fa5ff9a595911d2d2c0289e3">&#9670;&nbsp;</a></span>alloc_picture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AVFrame * FFmpeg_Transcoder::alloc_picture </td>
          <td>(</td>
          <td class="paramtype">AVPixelFormat&#160;</td>
          <td class="paramname"><em>pix_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate memory for one picture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pix_fmt</td><td>- Pixel format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>- Picture width </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">height</td><td>- Picture height </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns new AVFrame or nullptr on error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02013">2013</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, and <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02220">decode_video_frame()</a>.</p>

</div>
</div>
<a id="a9ed226346c42ea1d3de3fd4c61573774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed226346c42ea1d3de3fd4c61573774">&#9670;&nbsp;</a></span>audio_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::audio_size </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>filesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVCodecID&#160;</td>
          <td class="paramname"><em>codec_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a>&#160;</td>
          <td class="paramname"><em>bit_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample_rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Predict audio file size. This may (better will surely) be inaccurate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filesize</td><td>- Predicted file size in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">codec_id</td><td>- Target codec ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bit_rate</td><td>- Target bit rate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">duration</td><td>- File duration. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channels</td><td>- Number of channels in target file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sample_rate</td><td>- Sample rate of target file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, returns true; on failure, returns false. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03555">3555</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03680">calculate_predicted_filesize()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03485">get_prores_bitrate()</a>, and <a class="el" href="transcode_8cc_source.html#l00264">transcoder_set_filesize()</a>.</p>

</div>
</div>
<a id="a1f1608f6c5c6d8efe099b8e9869cd259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1608f6c5c6d8efe099b8e9869cd259">&#9670;&nbsp;</a></span>can_copy_stream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::can_copy_stream </td>
          <td>(</td>
          <td class="paramtype">const AVStream *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if stream can be copied from input to output (AUTOCOPY option). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>- Input stream to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if stream can be copied; false if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00554">554</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8cc_source.html#l00227">FFmpegfs_Format::audio_codec_id()</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00228">AUTOCOPY_MATCH</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00229">AUTOCOPY_MATCHLIMIT</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00227">AUTOCOPY_OFF</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00230">AUTOCOPY_STRICT</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00231">AUTOCOPY_STRICTLIMIT</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00148">BITRATE</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00153">CODECPAR</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00686">get_output_bit_rate()</a>, <a class="el" href="logging_8h_source.html#l00208">Logging::info()</a>, <a class="el" href="ffmpegfs_8h_source.html#l00137">FFMPEGFS_PARAMS::m_audiobitrate</a>, <a class="el" href="ffmpegfs_8h_source.html#l00131">FFMPEGFS_PARAMS::m_autocopy</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, and <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>.</p>

</div>
</div>
<a id="a55add6e3975e57bfe1e73f017a74c584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55add6e3975e57bfe1e73f017a74c584">&#9670;&nbsp;</a></span>close_input_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::close_input_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the input file of open. Can safely be called again after the file was already closed or if the file was never open. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the input file was closed, false if it was not upon upon calling this function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04001">4001</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04084">close()</a>, <a class="el" href="classFileIO.html#ab30a83fd482d8702dd2ad532458ffa74">FileIO::close()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04331">free_filters()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00128">FFmpeg_Transcoder::INPUTFILE::m_album_art</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>.</p>

</div>
</div>
<a id="ac3da80243660c43fca519725321d3907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3da80243660c43fca519725321d3907">&#9670;&nbsp;</a></span>close_output_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::close_output_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the output file of open and reports lost packets. Can safely be called again after the file was already closed or if the file was never open. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the output file was closed, false if it was not upon upon calling this function. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03913">3913</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03865">purge_fifos()</a>.</p>

</div>
</div>
<a id="aaf6945c2faeb27af1db8a75ef3d52efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf6945c2faeb27af1db8a75ef3d52efd">&#9670;&nbsp;</a></span>close_resample()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::close_resample </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close and free the resampler context. </p>
<dl class="section return"><dt>Returns</dt><dd>If an open context was closed, returns true; if nothing had been done returns false. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03848">3848</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03865">purge_fifos()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01794">init_resampler()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03813">seek()</a>.</p>

</div>
</div>
<a id="ada3ad7eef000399122463376320acb54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada3ad7eef000399122463376320acb54">&#9670;&nbsp;</a></span>convert_samples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::convert_samples </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>converted_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>out_samples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the input audio samples into the output sample format. The conversion happens on a per-frame basis, the size of which is specified by frame_size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input_data</td><td>- Input data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_samples</td><td>- Number of input samples. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">converted_data</td><td>- Converted data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_samples</td><td>- Number of output samples </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02607">2607</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02539">init_converted_samples()</a>.</p>

</div>
</div>
<a id="ac582ce443ea0781a4b647f8701b73569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac582ce443ea0781a4b647f8701b73569">&#9670;&nbsp;</a></span>copy_metadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FFmpeg_Transcoder::copy_metadata </td>
          <td>(</td>
          <td class="paramtype">AVDictionary **&#160;</td>
          <td class="paramname"><em>metadata_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AVDictionary *&#160;</td>
          <td class="paramname"><em>metadata_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>copy_metadataBluray I/O class </p>
<p>Process the metadata in the FFmpeg file. This should be called at the beginning, before reading audio data. The set_text_tag() and set_picture_tag() methods of the given Encoder will be used to set the metadata, with results going into the given <a class="el" href="classBuffer.html" title="The Buffer class. ">Buffer</a>. This function will also read the actual PCM stream parameters. </p>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03192">3192</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__base_8cc_source.html#l00277">FFmpeg_Base::av_dict_set_with_check()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00120">FFmpeg_Transcoder::INPUTFILE::m_filetype</a>.</p>

</div>
</div>
<a id="a66a3bf4bf02d83037b7b9160560e970d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66a3bf4bf02d83037b7b9160560e970d">&#9670;&nbsp;</a></span>decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::decode </td>
          <td>(</td>
          <td class="paramtype">AVCodecContext *&#160;</td>
          <td class="paramname"><em>avctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVFrame *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>got_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AVPacket *&#160;</td>
          <td class="paramname"><em>pkt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This does not quite work like avcodec_decode_audio4/avcodec_decode_video2. There is the following difference: if you got a frame, you must call it again with pkt=nullptr. pkt==nullptr is treated differently from pkt-&gt;size==0 (pkt==nullptr means get more output, pkt-&gt;size==0 is a flush/drain packet) </p><dl class="section return"><dt>Returns</dt><dd>On success returns 0. On error, returns a negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02041">2041</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04101">filename()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02220">decode_video_frame()</a>.</p>

</div>
</div>
<a id="ab26699456ab881329e1ca9aebae74ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab26699456ab881329e1ca9aebae74ba5">&#9670;&nbsp;</a></span>decode_audio_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::decode_audio_frame </td>
          <td>(</td>
          <td class="paramtype">AVPacket *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>decoded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode one audio frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>- Packet to decode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">decoded</td><td>- 1 if packet was decoded, 0 if it did not contain data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">2083</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02652">add_samples_to_fifo()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02607">convert_samples()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02041">decode()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04101">filename()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02539">init_converted_samples()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00162">FFmpeg_Base::init_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01794">init_resampler()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02415">decode_frame()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02710">flush_frames_single()</a>.</p>

</div>
</div>
<a id="a96c31a851e95a6fb714b2908c83ec696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c31a851e95a6fb714b2908c83ec696">&#9670;&nbsp;</a></span>decode_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::decode_frame </td>
          <td>(</td>
          <td class="paramtype">AVPacket *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode one frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>- Packet to decode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02415">2415</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01619">add_albumart_frame()</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00117">AV_ROUND_PASS_MINMAX</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02220">decode_video_frame()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04101">filename()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00128">FFmpeg_Transcoder::INPUTFILE::m_album_art</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpegfs_8h_source.html#l00171">FFMPEGFS_PARAMS::m_decoding_errors</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="fileio_8h_source.html#l00082">VIRTUALFILE::m_type</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, <a class="el" href="ffmpeg__base_8h_source.html#l00165">FFmpeg_Base::m_virtualfile</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02403">store_packet()</a>, and <a class="el" href="fileio_8h_source.html#l00058">VIRTUALTYPE_DVD</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02764">read_decode_convert_and_store()</a>.</p>

</div>
</div>
<a id="a45d6501228351ff6407f0af09596d09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d6501228351ff6407f0af09596d09f">&#9670;&nbsp;</a></span>decode_video_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::decode_video_frame </td>
          <td>(</td>
          <td class="paramtype">AVPacket *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>decoded</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode one video frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>- Packet to decode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">decoded</td><td>- 1 if packet was decoded, 0 if it did not contain data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02220">2220</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02013">alloc_picture()</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00117">AV_ROUND_PASS_MINMAX</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02041">decode()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04101">filename()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00162">FFmpeg_Base::init_frame()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04263">send_filters()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02415">decode_frame()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02710">flush_frames_single()</a>.</p>

</div>
</div>
<a id="af7b3727646f64c05617759abd08a7075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b3727646f64c05617759abd08a7075">&#9670;&nbsp;</a></span>destname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * FFmpeg_Transcoder::destname </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return destination filename. Must be implemented in child class. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns filename. </dd></dl>

<p>Implements <a class="el" href="classFFmpeg__Base.html#a9f4f1cccd0202b75972f925cc63913bf">FFmpeg_Base</a>.</p>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">4106</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01619">add_albumart_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01506">add_albumart_stream()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02652">add_samples_to_fifo()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00879">add_stream()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01410">add_stream_copy()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02013">alloc_picture()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00554">can_copy_stream()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02607">convert_samples()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03192">copy_metadata()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02893">encode_audio_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02967">encode_video_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02819">init_audio_output_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02539">init_converted_samples()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01899">init_fifo()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01794">init_resampler()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00842">init_rescaler()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03113">load_encode_and_write()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">open_output_file()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">process_single_fr()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02764">read_decode_convert_and_store()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04263">send_filters()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02403">store_packet()</a>, <a class="el" href="transcode_8cc_source.html#l00135">transcode_finish()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00804">update_codec()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01911">update_format()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01968">write_output_file_header()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03167">write_output_file_trailer()</a>.</p>

</div>
</div>
<a id="affc23e2d1591fa27090622c217a7e3fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc23e2d1591fa27090622c217a7e3fd">&#9670;&nbsp;</a></span>encode_audio_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::encode_audio_frame </td>
          <td>(</td>
          <td class="paramtype">const AVFrame *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>data_present</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode one frame worth of audio to the output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>- Audio frame to encode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_present</td><td>- 1 if frame contained data that could be encoded, 0 if not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0. On error, returns a negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02893">2893</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00154">FFmpeg_Base::init_packet()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02856">produce_audio_dts()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02403">store_packet()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03113">load_encode_and_write()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">process_single_fr()</a>.</p>

</div>
</div>
<a id="a521bb83e1e6862028fc272e1667355f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a521bb83e1e6862028fc272e1667355f7">&#9670;&nbsp;</a></span>encode_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::encode_finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Encode any remaining PCM data to the given <a class="el" href="classBuffer.html" title="The Buffer class. ">Buffer</a>. This should be called after all input data has already been passed to encode_pcm_data(). </p><dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03756">3756</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="transcode_8cc_source.html#l00135">transcode_finish()</a>.</p>

</div>
</div>
<a id="a67f31ad62ffd89e4ea45a357bc8a746a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f31ad62ffd89e4ea45a357bc8a746a">&#9670;&nbsp;</a></span>encode_video_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::encode_video_frame </td>
          <td>(</td>
          <td class="paramtype">const AVFrame *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>data_present</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode one frame worth of video to the output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frame</td><td>- Video frame to encode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_present</td><td>- 1 if frame contained data that could be encoded, 0 if not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0. On error, returns a negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02967">2967</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00154">FFmpeg_Base::init_packet()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00140">FFmpeg_Transcoder::OUTPUTFILE::m_last_mux_dts</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02403">store_packet()</a>, <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>, and <a class="el" href="logging_8h_source.html#l00231">Logging::warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">process_single_fr()</a>.</p>

</div>
</div>
<a id="a7f26856440e06fbcec3bd208b8067bfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f26856440e06fbcec3bd208b8067bfc">&#9670;&nbsp;</a></span>filename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * FFmpeg_Transcoder::filename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return source filename. Must be implemented in child class. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns filename. </dd></dl>

<p>Implements <a class="el" href="classFFmpeg__Base.html#ab286a55ddff32db33af199b60145751b">FFmpeg_Base</a>.</p>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04101">4101</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03680">calculate_predicted_filesize()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02041">decode()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02415">decode_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02220">decode_video_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00224">open_input_file()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">open_output_file()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>.</p>

</div>
</div>
<a id="a0f90d7ec4715b359d5b666f5ab4b23b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f90d7ec4715b359d5b666f5ab4b23b7">&#9670;&nbsp;</a></span>flush_frames_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::flush_frames_all </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_flush_packet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush the remaining frames for all streams. </p>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02685">2685</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02710">flush_frames_single()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02764">read_decode_convert_and_store()</a>.</p>

</div>
</div>
<a id="ab9887b1d045884e2e822c5d1c3432e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9887b1d045884e2e822c5d1c3432e8d">&#9670;&nbsp;</a></span>flush_frames_single()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::flush_frames_single </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stream_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_flush_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush the remaining frames. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream_index</td><td>- Stream index to flush. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">use_flush_packet</td><td>- If true, use flush packet. Otherwise pass nullptr to avcodec_receive_frame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02710">2710</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02220">decode_video_frame()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00154">FFmpeg_Base::init_packet()</a>, <a class="el" href="ffmpeg__base_8h_source.html#l00039">INVALID_STREAM</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02685">flush_frames_all()</a>.</p>

</div>
</div>
<a id="a60e8d1769bf1ec0917d0cc55e9d50cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e8d1769bf1ec0917d0cc55e9d50cc2">&#9670;&nbsp;</a></span>get_aspect_ratio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::get_aspect_ratio </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AVRational &amp;&#160;</td>
          <td class="paramname"><em>sar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVRational *&#160;</td>
          <td class="paramname"><em>ar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate aspect ratio for width/height and sample aspect ratio (sar). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>- Video width in pixels. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">height</td><td>- Video height in pixels. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sar</td><td>- Aspect ratio of input video. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ar</td><td>- Calulcated aspect ratio, if computeable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns true; if false is returned ar may not be used. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00706">706</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00749">get_video_size()</a>.</p>

</div>
</div>
<a id="af26399e6b5c677b4d8eb0072dafcd05b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af26399e6b5c677b4d8eb0072dafcd05b">&#9670;&nbsp;</a></span>get_output_bit_rate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::get_output_bit_rate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a>&#160;</td>
          <td class="paramname"><em>input_bit_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a>&#160;</td>
          <td class="paramname"><em>max_bit_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a> *&#160;</td>
          <td class="paramname"><em>output_bit_rate</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate output bit rate based on user option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input_bit_rate</td><td>- Bit rate from input file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_bit_rate</td><td>- Max. bit rate if set by user. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_bit_rate</td><td>- Selected output bit rate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if bit rate was changed; false if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00686">686</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00879">add_stream()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00554">can_copy_stream()</a>.</p>

</div>
</div>
<a id="a54554e2e1177c1c1fc185c7c2e7f9d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54554e2e1177c1c1fc185c7c2e7f9d78">&#9670;&nbsp;</a></span>get_output_sample_rate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::get_output_sample_rate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>input_sample_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_sample_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>output_sample_rate</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate output sample rate based on user option. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input_sample_rate</td><td>- Sample rate from input file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_sample_rate</td><td>- Max. sample rate if set by user </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_sample_rate</td><td>- Selected output sample rate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if sample rate was changed; false if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00666">666</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00879">add_stream()</a>.</p>

</div>
</div>
<a id="aa9b7b0b40d36d9a23c50db1bda378b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9b7b0b40d36d9a23c50db1bda378b12">&#9670;&nbsp;</a></span>get_prores_bitrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a> FFmpeg_Transcoder::get_prores_bitrate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AVRational &amp;&#160;</td>
          <td class="paramname"><em>framerate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interleaved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>profile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the appropriate bitrate for a ProRes file given several parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>- Video width in pixels. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">height</td><td>- Video height in pixels. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">framerate</td><td>- Video frame rate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interleaved</td><td>- If 1, video is interleaved; 0 if not. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">profile</td><td>- Selected ProRes profile. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bitrate in bit/s. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03485">3485</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03555">audio_size()</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00148">BITRATE</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00095">FFmpeg_Transcoder::PRORES_BITRATE::m_bitrate</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00083">FFmpeg_Transcoder::PRORES_BITRATE::PRORES_FRAMERATE::m_framerate</a>, <a class="el" href="structFFmpeg__Transcoder_1_1PRORES__BITRATE.html#ae6894761a64a7ec1d4c969c9173134f6">FFmpeg_Transcoder::PRORES_BITRATE::m_framerate</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00080">FFmpeg_Transcoder::PRORES_BITRATE::m_height</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00084">FFmpeg_Transcoder::PRORES_BITRATE::PRORES_FRAMERATE::m_interleaved</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00079">FFmpeg_Transcoder::PRORES_BITRATE::m_width</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00072">MAX_PRORES_FRAMERATE</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">process_single_fr()</a>.</p>

</div>
</div>
<a id="af7c3726c0165e3061d1fc4ef66985e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c3726c0165e3061d1fc4ef66985e87">&#9670;&nbsp;</a></span>get_video_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::get_video_size </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>output_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>output_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the size of the output video based on user selection and apsect ratio. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">output_width</td><td>- Output video width. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output_height</td><td>- Output video height. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if video height/width was reduces; false if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00749">749</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8h_source.html#l00153">CODECPAR</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00706">get_aspect_ratio()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, <a class="el" href="ffmpegfs_8h_source.html#l00143">FFMPEGFS_PARAMS::m_videoheight</a>, <a class="el" href="ffmpegfs_8h_source.html#l00142">FFMPEGFS_PARAMS::m_videowidth</a>, and <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00879">add_stream()</a>.</p>

</div>
</div>
<a id="a84df98a3cadf75bd48b2bdc6afbd4846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84df98a3cadf75bd48b2bdc6afbd4846">&#9670;&nbsp;</a></span>id3v1tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structID3v1.html">ID3v1</a> * FFmpeg_Transcoder::id3v1tag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assemble an <a class="el" href="structID3v1.html" title="ID3 version 1 tag ">ID3v1</a> file tag. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns an <a class="el" href="structID3v1.html" title="ID3 version 1 tag ">ID3v1</a> file tag. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03762">3762</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="transcode_8cc_source.html#l00594">transcoder_thread()</a>.</p>

</div>
</div>
<a id="ae459f2a8794c63f7ff38fd9c80fcfb45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae459f2a8794c63f7ff38fd9c80fcfb45">&#9670;&nbsp;</a></span>init_audio_output_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::init_audio_output_frame </td>
          <td>(</td>
          <td class="paramtype">AVFrame **&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise one input frame for writing to the output file. The frame will be exactly frame_size samples large. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">frame</td><td>- Newly initialised frame. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame_size</td><td>- Size of new frame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02819">2819</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03113">load_encode_and_write()</a>.</p>

</div>
</div>
<a id="a509e0e8082e8f270388ebb6abad29907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a509e0e8082e8f270388ebb6abad29907">&#9670;&nbsp;</a></span>init_converted_samples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::init_converted_samples </td>
          <td>(</td>
          <td class="paramtype">uint8_t ***&#160;</td>
          <td class="paramname"><em>converted_input_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise a temporary storage for the specified number of audio samples. The conversion requires temporary storage due to the different format. The number of audio samples to be allocated is specified in frame_size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">converted_input_samples</td><td>- Memory for input samples. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">frame_size</td><td>- Size of one frame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02539">2539</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02607">convert_samples()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>.</p>

</div>
</div>
<a id="af7b48878a9fae5be071564fdcd5d3a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b48878a9fae5be071564fdcd5d3a03">&#9670;&nbsp;</a></span>init_deinterlace_filters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::init_deinterlace_filters </td>
          <td>(</td>
          <td class="paramtype">AVCodecContext *&#160;</td>
          <td class="paramname"><em>codec_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVPixelFormat&#160;</td>
          <td class="paramname"><em>pix_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AVRational &amp;&#160;</td>
          <td class="paramname"><em>avg_frame_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AVRational &amp;&#160;</td>
          <td class="paramname"><em>time_base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise video filters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">codec_context</td><td>- AVCodecContext object of output video. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pix_fmt</td><td>- Output stream pixel format. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">avg_frame_rate</td><td>- Average output stream frame rate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time_base</td><td>- Output stream time base. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, or negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04112">4112</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>.</p>

</div>
</div>
<a id="a3b4c7914aec45cde0303a6ecf2b03357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b4c7914aec45cde0303a6ecf2b03357">&#9670;&nbsp;</a></span>init_fifo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::init_fifo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialise a FIFO buffer for the audio samples to be encoded. </p>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01899">1899</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">open_output_file()</a>.</p>

</div>
</div>
<a id="a6573a50f95e464137ca200abb19dbf5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6573a50f95e464137ca200abb19dbf5e">&#9670;&nbsp;</a></span>init_resampler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::init_resampler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the audio resampler based on the input and output codec settings. If the input and output sample formats differ, a conversion is required libswresample takes care of this, but requires initialization. </p>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01794">1794</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03848">close_resample()</a>, <a class="el" href="logging_8h_source.html#l00185">Logging::debug()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00775">format_samplerate()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00346">FFmpeg_Base::get_channel_layout_name()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00341">FFmpeg_Base::get_sample_fmt_name()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02083">decode_audio_frame()</a>.</p>

</div>
</div>
<a id="abcb61c1ba5a92ec7d8c8797f57938228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcb61c1ba5a92ec7d8c8797f57938228">&#9670;&nbsp;</a></span>init_rescaler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::init_rescaler </td>
          <td>(</td>
          <td class="paramtype">AVPixelFormat&#160;</td>
          <td class="paramname"><em>in_pix_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>in_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVPixelFormat&#160;</td>
          <td class="paramname"><em>out_pix_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>out_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Init image size rescaler and pixel format converter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_pix_fmt</td><td>- Input pixel format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_width</td><td>- Input image width </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_height</td><td>- Input image height </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_pix_fmt</td><td>- Output pixel format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_width</td><td>- Output image width </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">out_height</td><td>- Output pixel format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if OK, or negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00842">842</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="logging_8h_source.html#l00185">Logging::debug()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00335">FFmpeg_Base::get_pix_fmt_name()</a>, and <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>.</p>

</div>
</div>
<a id="a203942f9d2bb0d8dbcb547624fe6c728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a203942f9d2bb0d8dbcb547624fe6c728">&#9670;&nbsp;</a></span>input_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::input_read </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Custom read function for FFmpeg. </p>
<p>Read from virtual files, may be a physical file but also a DVD, VCD or Bluray chapter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opaque</td><td>- Payload given to FFmpeg, basically the <a class="el" href="classFileIO.html" title="Base class for I/O. ">FileIO</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>- Returned data read from file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>- Size of data buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns bytes read. May be less than size or even 0. On error, returns a negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03767">3767</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="classFileIO.html#ad7bf956d13e66a11644c30c4b2b7d0ee">FileIO::eof()</a>, <a class="el" href="classFileIO.html#a705727f41def56f0d14c631514d3b115">FileIO::error()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03794">output_write()</a>, and <a class="el" href="classFileIO.html#afe9ad83e019855f655e4c69c3a282f26">FileIO::read()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00224">open_input_file()</a>.</p>

</div>
</div>
<a id="abae5d70063ce52f3b9ccf5157265d97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abae5d70063ce52f3b9ccf5157265d97b">&#9670;&nbsp;</a></span>is_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::is_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if input file is already open.</p>
<dl class="section return"><dt>Returns</dt><dd>true if open; false if closed </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00219">219</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00224">open_input_file()</a>.</p>

</div>
</div>
<a id="a6e5172ec9ba20ff8229712b2ce4d2c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e5172ec9ba20ff8229712b2ce4d2c11">&#9670;&nbsp;</a></span>is_video()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::is_video </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>FFmpeg handles cover arts like video streams. Try to find out if we have a video stream or a cover art. </p><dl class="section return"><dt>Returns</dt><dd>Return true if file contains a video stream. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00188">188</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8cc_source.html#l01212">is_album_art()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00224">open_input_file()</a>.</p>

</div>
</div>
<a id="afa312d18182b1fccba166477a66ff3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa312d18182b1fccba166477a66ff3b1">&#9670;&nbsp;</a></span>load_encode_and_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::load_encode_and_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load one audio frame from the FIFO buffer, encode and write it to the output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">frame_size</td><td>- Size of frame. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0. On error, returns a negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03113">3113</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02893">encode_audio_frame()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02819">init_audio_output_frame()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">process_single_fr()</a>.</p>

</div>
</div>
<a id="ac390e42bd912f1579fc27b33495f2f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac390e42bd912f1579fc27b33495f2f08">&#9670;&nbsp;</a></span>mtime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t FFmpeg_Transcoder::mtime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get last modification time of file. </p>
<dl class="section return"><dt>Returns</dt><dd>Modification time (seconds since epoch) </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03181">3181</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

</div>
</div>
<a id="a556a0c7071ee2e8e249ef35eb7c64ec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a556a0c7071ee2e8e249ef35eb7c64ec7">&#9670;&nbsp;</a></span>open_input_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::open_input_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a>&#160;</td>
          <td class="paramname"><em>virtualfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFileIO.html">FileIO</a> *&#160;</td>
          <td class="paramname"><em>fio</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open the given FFmpeg file and prepare for decoding. Collect information for the file (duration, bitrate, etc.). After this function, the other methods can be used to process the file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">virtualfile</td><td>- Virtualfile object for desired file. May be a physical file, a DVD, Bluray or video CD </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">fio</td><td>- Pass an already open fileio object. Normally the file is opened, but if this parameter is not nullptr the already existing object is used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00224">224</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="fileio_8cc_source.html#l00059">FileIO::alloc()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00317">FFmpeg_Base::audio_info()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00277">FFmpeg_Base::av_dict_set_with_check()</a>, <a class="el" href="classFileIO.html#a9ef072d7a6f475c0b185c3912d828342">FileIO::bufsize()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03680">calculate_predicted_filesize()</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00153">CODECPAR</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00164">FFMPEGFS_PARAMS::current_format()</a>, <a class="el" href="logging_8h_source.html#l00185">Logging::debug()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00202">FFmpegfs_Format::desttype()</a>, <a class="el" href="classFileIO.html#aaffdefd15fa7c5e54a9733b1770c8bcd">FileIO::duration()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00138">FF_INPUT_BUFFER_PADDING_SIZE</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04101">filename()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00689">get_filetype()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00716">get_filetype_from_list()</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00133">FFMPEGFS_PARAMS::guess_format_idx()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03767">input_read()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l01212">is_album_art()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00219">is_open()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00188">is_video()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00128">FFmpeg_Transcoder::INPUTFILE::m_album_art</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="fileio_8h_source.html#l00089">VIRTUALFILE::m_duration</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00121">FFmpeg_Transcoder::INPUTFILE::m_filename</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00120">FFmpeg_Transcoder::INPUTFILE::m_filetype</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, <a class="el" href="fileio_8h_source.html#l00084">VIRTUALFILE::m_format_idx</a>, <a class="el" href="ffmpegfs_8h_source.html#l00146">FFMPEGFS_PARAMS::m_noalbumarts</a>, <a class="el" href="fileio_8h_source.html#l00085">VIRTUALFILE::m_origfile</a>, <a class="el" href="fileio_8h_source.html#l00086">VIRTUALFILE::m_st</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="fileio_8h_source.html#l00082">VIRTUALFILE::m_type</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, <a class="el" href="ffmpeg__base_8h_source.html#l00165">FFmpeg_Base::m_virtualfile</a>, <a class="el" href="classFileIO.html#ac6f8d683c47d7b37a8d20351f084af10">FileIO::open()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00071">FFmpeg_Base::open_bestmatch_codec_context()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00090">FFmpeg_Base::open_codec_context()</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03813">seek()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00683">supports_albumart()</a>, <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00301">FFmpeg_Base::video_info()</a>, <a class="el" href="fileio_8h_source.html#l00061">VIRTUALTYPE_BLURAY</a>, <a class="el" href="fileio_8h_source.html#l00058">VIRTUALTYPE_DVD</a>, <a class="el" href="fileio_8h_source.html#l00055">VIRTUALTYPE_VCD</a>, and <a class="el" href="logging_8h_source.html#l00231">Logging::warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="transcode_8cc_source.html#l00299">transcoder_predict_filesize()</a>, and <a class="el" href="transcode_8cc_source.html#l00594">transcoder_thread()</a>.</p>

</div>
</div>
<a id="ac17eddfaa818018ceabb87165d44b968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17eddfaa818018ceabb87165d44b968">&#9670;&nbsp;</a></span>open_output_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::open_output_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBuffer.html">Buffer</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open output file. Data will actually be written to buffer and copied by FUSE when accessed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>- <a class="el" href="classCache.html" title="The Cache class. ">Cache</a> buffer to be written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">603</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__base_8cc_source.html#l00317">FFmpeg_Base::audio_info()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04101">filename()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00378">get_destname()</a>, <a class="el" href="logging_8h_source.html#l00208">Logging::info()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01899">init_fifo()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00121">FFmpeg_Transcoder::INPUTFILE::m_filename</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03751">predicted_filesize()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03267">process_albumarts()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03231">process_metadata()</a>, <a class="el" href="buffer_8cc_source.html#l00379">Buffer::reserve()</a>, <a class="el" href="buffer_8cc_source.html#l00517">Buffer::size()</a>, <a class="el" href="ffmpeg__base_8cc_source.html#l00301">FFmpeg_Base::video_info()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01968">write_output_file_header()</a>.</p>

<p class="reference">Referenced by <a class="el" href="transcode_8cc_source.html#l00594">transcoder_thread()</a>.</p>

</div>
</div>
<a id="a3110f05414808742ea6d579191982bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3110f05414808742ea6d579191982bf5">&#9670;&nbsp;</a></span>output_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::output_write </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Custom write function for FFmpeg. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opaque</td><td>- Payload given to FFmpeg, basically the <a class="el" href="classFileIO.html" title="Base class for I/O. ">FileIO</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>- Data to be written </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>- Size of data block. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns bytes written. On error, returns a negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03794">3794</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03813">seek()</a>, and <a class="el" href="buffer_8cc_source.html#l00411">Buffer::write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03767">input_read()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>.</p>

</div>
</div>
<a id="aaf7f2e1ecea535b2f02551d4e49200b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf7f2e1ecea535b2f02551d4e49200b0">&#9670;&nbsp;</a></span>predicted_filesize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FFmpeg_Transcoder::predicted_filesize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to predict the recoded file size. This may (better will surely) be inaccurate. </p>
<dl class="section return"><dt>Returns</dt><dd>Predicted file size in bytes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03751">3751</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03680">calculate_predicted_filesize()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">open_output_file()</a>, <a class="el" href="transcode_8cc_source.html#l00299">transcoder_predict_filesize()</a>, and <a class="el" href="transcode_8cc_source.html#l00594">transcoder_thread()</a>.</p>

</div>
</div>
<a id="a942d65ca55684bbca639af2d0ea30143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a942d65ca55684bbca639af2d0ea30143">&#9670;&nbsp;</a></span>prepare_codec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::prepare_codec </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__utils_8h.html#adf12e2d9ad420681d96f755088d37237">FILETYPE</a>&#160;</td>
          <td class="paramname"><em>filetype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare codec options for a file type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>- Codec private data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filetype</td><td>- File type: MP3, MP4 etc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00826">826</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__profiles_8h_source.html#l00062">FFmpeg_Profiles::PROFILE_LIST::m_profile</a>, <a class="el" href="ffmpeg__profiles_8h_source.html#l00080">FFmpeg_Profiles::m_profile</a>, <a class="el" href="ffmpegfs_8h_source.html#l00132">FFMPEGFS_PARAMS::m_profile</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00183">PROFILE_INVALID</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00804">update_codec()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00879">add_stream()</a>.</p>

</div>
</div>
<a id="a446ae8092e28817c97c3fb74ad1acc19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446ae8092e28817c97c3fb74ad1acc19">&#9670;&nbsp;</a></span>prepare_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::prepare_format </td>
          <td>(</td>
          <td class="paramtype">AVDictionary **&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__utils_8h.html#adf12e2d9ad420681d96f755088d37237">FILETYPE</a>&#160;</td>
          <td class="paramname"><em>filetype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare format optimisations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dict</td><td>- Dictionary to update. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filetype</td><td>- File type: MP3, MP4 etc. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01945">1945</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__profiles_8h_source.html#l00062">FFmpeg_Profiles::PROFILE_LIST::m_profile</a>, <a class="el" href="ffmpeg__profiles_8h_source.html#l00080">FFmpeg_Profiles::m_profile</a>, <a class="el" href="ffmpegfs_8h_source.html#l00132">FFMPEGFS_PARAMS::m_profile</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00183">PROFILE_INVALID</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01911">update_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01968">write_output_file_header()</a>.</p>

</div>
</div>
<a id="ab1313f014849b4990dbc7c9b1538c108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1313f014849b4990dbc7c9b1538c108">&#9670;&nbsp;</a></span>process_albumarts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::process_albumarts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy all album arts from source to target. </p>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03267">3267</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01619">add_albumart_frame()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00128">FFmpeg_Transcoder::INPUTFILE::m_album_art</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">process_single_fr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">open_output_file()</a>.</p>

</div>
</div>
<a id="abcb1a10b6a56f504f03bd06142e2da43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcb1a10b6a56f504f03bd06142e2da43">&#9670;&nbsp;</a></span>process_metadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::process_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy metadata from source to target. </p>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03231">3231</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">open_output_file()</a>.</p>

</div>
</div>
<a id="a33fe2abcc0767204dcd6dab22980d54e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33fe2abcc0767204dcd6dab22980d54e">&#9670;&nbsp;</a></span>process_single_fr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::process_single_fr </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process a single frame of audio data. The encode_pcm_data() method of the Encoder will be used to process the resulting audio data, with the result going into the given <a class="el" href="classBuffer.html" title="The Buffer class. ">Buffer</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>- On success, returns 0; if at EOF, returns 1; on error, returns -1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. 1 if EOF reached </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">3290</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8h_source.html#l00142">AV_CODEC_CAP_VARIABLE_FRAME_SIZE</a>, <a class="el" href="ffmpeg__utils_8h_source.html#l00148">BITRATE</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02893">encode_audio_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02967">encode_video_frame()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03485">get_prores_bitrate()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03113">load_encode_and_write()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02764">read_decode_convert_and_store()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03267">process_albumarts()</a>, and <a class="el" href="transcode_8cc_source.html#l00594">transcoder_thread()</a>.</p>

</div>
</div>
<a id="ae9493510e3944742d2027f0d2b459f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9493510e3944742d2027f0d2b459f0c">&#9670;&nbsp;</a></span>produce_audio_dts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FFmpeg_Transcoder::produce_audio_dts </td>
          <td>(</td>
          <td class="paramtype">AVPacket *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Produce audio dts/pts. This is required because the target codec usually has a different frame size than the source, so the number of packets will not match 1:1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>- Packet to add dts/pts to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>: Is this a FFmpeg bug or am I too stupid? OPUS is a bit strange. Whatever we feed into the encoder, the result will always be floating point planar at 48 K sampling rate. For some reason the duration calculated by the FFMpeg API is wrong. We have to rescale it to the correct value. Same applies to mpegts, so let's rescale. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02856">2856</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8h_source.html#l00153">CODECPAR</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00125">FFmpeg_Transcoder::INPUTFILE::m_audio</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00139">FFmpeg_Transcoder::OUTPUTFILE::m_audio_pts</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00107">FFmpeg_Transcoder::STREAMREF::m_codec_ctx</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00108">FFmpeg_Transcoder::STREAMREF::m_stream</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02893">encode_audio_frame()</a>.</p>

</div>
</div>
<a id="a6afa2189ecd068bcbaa1054835db27c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afa2189ecd068bcbaa1054835db27c4">&#9670;&nbsp;</a></span>read_decode_convert_and_store()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::read_decode_convert_and_store </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>finished</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read frame from source file, decode and store in FIFO. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">finished</td><td>- 1 if at EOF. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02764">2764</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02415">decode_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02685">flush_frames_all()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, and <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03290">process_single_fr()</a>.</p>

</div>
</div>
<a id="a8b6c0aabe9bdc1b75aacb60f180c55fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6c0aabe9bdc1b75aacb60f180c55fa">&#9670;&nbsp;</a></span>seek()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int64_t FFmpeg_Transcoder::seek </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Custom seek function for FFmpeg. </p>
<p>Write to virtual files, currently only physical files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opaque</td><td>- Payload given to FFmpeg, basically the <a class="el" href="classFileIO.html" title="Base class for I/O. ">FileIO</a> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>- Offset to seek to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">whence</td><td>- One of the regular <a class="el" href="classFFmpeg__Transcoder.html#a8b6c0aabe9bdc1b75aacb60f180c55fa" title="Custom seek function for FFmpeg. ">seek()</a> constants like SEEK_SET/SEEK_END. Additionally FFmpeg constants like AVSEEK_SIZE are supported. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On successs returns 0. On error returns -1 and sets errno accordingly. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03813">3813</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03848">close_resample()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="classFileIO.html#a0171ca18c497a09971e22cc5c381304b">FileIO::seek()</a>, and <a class="el" href="classFileIO.html#a28df61747de114001d67ef6abad2ca7d">FileIO::size()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00224">open_input_file()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01663">open_output_filestreams()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03794">output_write()</a>.</p>

</div>
</div>
<a id="a267431703dc89cb7af872b104330dab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267431703dc89cb7af872b104330dab0">&#9670;&nbsp;</a></span>send_filters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AVFrame * FFmpeg_Transcoder::send_filters </td>
          <td>(</td>
          <td class="paramtype">AVFrame *&#160;</td>
          <td class="paramname"><em>srcframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send video frame to the filters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">srcframe</td><td>- Input video frame. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ret</td><td>- 0 if OK, or negative AVERROR value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to video frame. May be a simple pointer copy of srcframe. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04263">4263</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04331">free_filters()</a>, and <a class="el" href="logging_8h_source.html#l00231">Logging::warning()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02220">decode_video_frame()</a>.</p>

</div>
</div>
<a id="abceb28b49497f563291f6755a3934edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abceb28b49497f563291f6755a3934edb">&#9670;&nbsp;</a></span>store_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::store_packet </td>
          <td>(</td>
          <td class="paramtype">AVPacket *&#160;</td>
          <td class="paramname"><em>pkt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store packet in output stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pkt</td><td>- Packet to store. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>- Typo of packet: audio, video, image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02403">2403</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01619">add_albumart_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02415">decode_frame()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02893">encode_audio_frame()</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l02967">encode_video_frame()</a>.</p>

</div>
</div>
<a id="ab36783c960d444b735581941fe54b8d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36783c960d444b735581941fe54b8d4">&#9670;&nbsp;</a></span>update_codec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::update_codec </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>opt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFFmpeg__Profiles.html#a6cfb233e140c53383918469a3352d422">LPCPROFILE_OPTION</a>&#160;</td>
          <td class="paramname"><em>profile_option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare codec options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>- Codec private data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">profile_option</td><td>- Selected profile option. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00804">804</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__base_8cc_source.html#l00289">FFmpeg_Base::av_opt_set_with_check()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, and <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00826">prepare_codec()</a>.</p>

</div>
</div>
<a id="aa2e01b8069b6ecf5516c7b9ce2da4580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e01b8069b6ecf5516c7b9ce2da4580">&#9670;&nbsp;</a></span>update_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::update_format </td>
          <td>(</td>
          <td class="paramtype">AVDictionary **&#160;</td>
          <td class="paramname"><em>dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFFmpeg__Profiles.html#a6cfb233e140c53383918469a3352d422">LPCPROFILE_OPTION</a>&#160;</td>
          <td class="paramname"><em>option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update format options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dict</td><td>- Dictionary to update. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>- Profile option to set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01911">1911</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__base_8cc_source.html#l00277">FFmpeg_Base::av_dict_set_with_check()</a>, <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="ffmpeg__base_8h_source.html#l00039">INVALID_STREAM</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00109">FFmpeg_Transcoder::STREAMREF::m_stream_idx</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00126">FFmpeg_Transcoder::INPUTFILE::m_video</a>, <a class="el" href="ffmpeg__profiles_8h_source.html#l00046">OPT_AUDIO</a>, <a class="el" href="ffmpeg__profiles_8h_source.html#l00047">OPT_VIDEO</a>, and <a class="el" href="logging_8h_source.html#l00162">Logging::trace()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01945">prepare_format()</a>.</p>

</div>
</div>
<a id="a52c544c5ae93090357de29b4f39075ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c544c5ae93090357de29b4f39075ae">&#9670;&nbsp;</a></span>video_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool FFmpeg_Transcoder::video_size </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>filesize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVCodecID&#160;</td>
          <td class="paramname"><em>codec_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ffmpeg__utils_8h.html#a17468d10f0c67a4ee7b38aab09d9e096">BITRATE</a>&#160;</td>
          <td class="paramname"><em>bit_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>interleaved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AVRational &amp;&#160;</td>
          <td class="paramname"><em>framerate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Predict video file size. This may (better will surely) be inaccurate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filesize</td><td>- Predicted file size in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">codec_id</td><td>- Target codec ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bit_rate</td><td>- Target bit rate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">duration</td><td>- File duration. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>- Target video width. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">height-</td><td>Target video height. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interleaved</td><td>- 1 if target video is interleaved. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">framerate</td><td>- Frame rate of target video. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, returns true; on failure, returns false. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03635">3635</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03680">calculate_predicted_filesize()</a>, and <a class="el" href="transcode_8cc_source.html#l00264">transcoder_set_filesize()</a>.</p>

</div>
</div>
<a id="a9e8f3a668b66cec31e5b10042cf80c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e8f3a668b66cec31e5b10042cf80c2a">&#9670;&nbsp;</a></span>write_output_file_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::write_output_file_header </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the header of the output file container. </p>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0; on error negative AVERROR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01968">1968</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00120">FFmpeg_Transcoder::INPUTFILE::m_filetype</a>, <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>, and <a class="el" href="ffmpeg__transcoder_8cc_source.html#l01945">prepare_format()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpeg__transcoder_8cc_source.html#l00603">open_output_file()</a>.</p>

</div>
</div>
<a id="aad58ed3d5a8dc2f608e94a696d4cc3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad58ed3d5a8dc2f608e94a696d4cc3ac">&#9670;&nbsp;</a></span>write_output_file_trailer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FFmpeg_Transcoder::write_output_file_trailer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the trailer of the output file container. </p>
<dl class="section return"><dt>Returns</dt><dd>On success returns 0. On error, returns a negative AVERROR value. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ffmpeg__transcoder_8cc_source.html#l03167">3167</a> of file <a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__transcoder_8cc_source.html#l04106">destname()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00388">ffmpeg_geterror()</a>, and <a class="el" href="ffmpeg__transcoder_8h_source.html#l00123">FFmpeg_Transcoder::INPUTFILE::m_format_ctx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ffmpeg__transcoder_8h_source.html">ffmpeg_transcoder.h</a></li>
<li>src/<a class="el" href="ffmpeg__transcoder_8cc_source.html">ffmpeg_transcoder.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
