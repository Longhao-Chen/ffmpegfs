<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpegfs Fuse Multi Media Filesystem: src/ffmpegfs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpegfs Fuse Multi Media Filesystem
   &#160;<span id="projectnumber">2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ffmpegfs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Main include for FFmpegfs project.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;fuse.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ffmpeg__utils_8h_source.html">ffmpeg_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fileio_8h_source.html">fileio.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ffmpegfs.h:</div>
<div class="dyncontent">
<div class="center"><img src="ffmpegfs_8h__incl.png" border="0" usemap="#asrc_2ffmpegfs_8h" alt=""/></div>
<map name="src_2ffmpegfs_8h" id="asrc_2ffmpegfs_8h">
<area shape="rect" title="Main include for FFmpegfs project." alt="" coords="208,5,323,32"/>
<area shape="rect" title=" " alt="" coords="94,80,157,107"/>
<area shape="rect" title=" " alt="" coords="181,80,256,107"/>
<area shape="rect" href="ffmpeg__utils_8h.html" title="Various FFmpegfs utility functions." alt="" coords="543,80,657,107"/>
<area shape="rect" href="fileio_8h.html" title="FileIO class." alt="" coords="280,80,347,107"/>
<area shape="rect" href="ffmpeg__compat_8h.html" title="FFmpeg API compatibility." alt="" coords="712,155,848,181"/>
<area shape="rect" title=" " alt="" coords="429,155,488,181"/>
<area shape="rect" title=" " alt="" coords="342,155,405,181"/>
<area shape="rect" title=" " alt="" coords="872,155,931,181"/>
<area shape="rect" title=" " alt="" coords="955,155,1061,181"/>
<area shape="rect" title=" " alt="" coords="513,155,687,181"/>
<area shape="rect" title=" " alt="" coords="5,155,91,181"/>
<area shape="rect" title=" " alt="" coords="115,155,165,181"/>
<area shape="rect" title=" " alt="" coords="189,155,317,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="ffmpegfs_8h__dep__incl.png" border="0" usemap="#asrc_2ffmpegfs_8hdep" alt=""/></div>
<map name="src_2ffmpegfs_8hdep" id="asrc_2ffmpegfs_8hdep">
<area shape="rect" title="Main include for FFmpegfs project." alt="" coords="1174,5,1289,32"/>
<area shape="rect" href="blurayio_8cc.html" title="BlurayIO class implementation." alt="" coords="5,80,121,107"/>
<area shape="rect" href="blurayparser_8cc.html" title="Bluray disk parser implementation." alt="" coords="418,155,562,181"/>
<area shape="rect" href="buffer_8cc.html" title="Buffer class implementation." alt="" coords="197,80,297,107"/>
<area shape="rect" href="cache_8cc.html" title="Cache class implementation." alt="" coords="322,80,423,107"/>
<area shape="rect" href="cache__entry_8cc.html" title="Cache_Entry class implementation." alt="" coords="448,80,588,107"/>
<area shape="rect" href="cache__maintenance_8cc.html" title="Cache maintenance implementation" alt="" coords="612,80,805,107"/>
<area shape="rect" href="diskio_8cc.html" title="DiskIO class implementation." alt="" coords="829,80,932,107"/>
<area shape="rect" href="dvdio_8cc.html" title="DvdIO class implementation." alt="" coords="957,80,1055,107"/>
<area shape="rect" href="dvdparser_8cc.html" title="dvdparser class implementation" alt="" coords="1467,155,1593,181"/>
<area shape="rect" href="ffmpeg__transcoder_8h.html" title="FFmpeg transcoder." alt="" coords="1079,80,1258,107"/>
<area shape="rect" href="transcode_8cc.html" title="File transcoder interface implementation." alt="" coords="1300,155,1427,181"/>
<area shape="rect" href="ffmpeg__utils_8cc.html" title="FFmpegfs utility set implementation." alt="" coords="1383,80,1527,107"/>
<area shape="rect" href="ffmpegfs_8cc.html" title="FFmpeg main function and utilities implementation." alt="" coords="1552,80,1673,107"/>
<area shape="rect" href="fileio_8cc.html" title="FileIO class implementation." alt="" coords="1697,80,1792,107"/>
<area shape="rect" href="transcode_8h.html" title="File transcoder interface (for use with by FUSE)" alt="" coords="1816,80,1937,107"/>
<area shape="rect" href="vcdparser_8cc.html" title="Video/Super Video CD parser implementation." alt="" coords="1935,155,2061,181"/>
<area shape="rect" href="vcdentries_8cc.html" title="S/VCD VcdEntries class implementation." alt="" coords="2013,80,2172,107"/>
<area shape="rect" href="vcdio_8cc.html" title="VcdIO class implementation." alt="" coords="2197,80,2295,107"/>
<area shape="rect" href="ffmpeg__profiles_8cc.html" title="Make audience audience specific optimisations." alt="" coords="903,155,1067,181"/>
<area shape="rect" href="ffmpeg__transcoder_8cc.html" title="FFmpeg_Transcoder class implementation." alt="" coords="1091,155,1275,181"/>
<area shape="rect" href="ffmpeg__base_8cc.html" title="FFmpeg_Base class implementation." alt="" coords="1625,155,1771,181"/>
<area shape="rect" href="fuseops_8cc.html" title="Fuse operations implementation." alt="" coords="1795,155,1910,181"/>
</map>
</div>
</div>
<p><a href="ffmpegfs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFFMPEGFS__PARAMS.html">FFMPEGFS_PARAMS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global program parameters.  <a href="structFFMPEGFS__PARAMS.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0919197af2e154da2c05727b6d87cbda"><td class="memItemLeft" align="right" valign="top"><a id="a0919197af2e154da2c05727b6d87cbda"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a0919197af2e154da2c05727b6d87cbda">FUSE_USE_VERSION</a>&#160;&#160;&#160;26</td></tr>
<tr class="memdesc:a0919197af2e154da2c05727b6d87cbda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requested minimum FUSE version. <br /></td></tr>
<tr class="separator:a0919197af2e154da2c05727b6d87cbda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a98fc6202ddd48ca1ad9db1b96baf9d63"><td class="memItemLeft" align="right" valign="top"><a id="a98fc6202ddd48ca1ad9db1b96baf9d63"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a98fc6202ddd48ca1ad9db1b96baf9d63">init_fuse_ops</a> (void)</td></tr>
<tr class="memdesc:a98fc6202ddd48ca1ad9db1b96baf9d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise FUSE operation structure. <br /></td></tr>
<tr class="separator:a98fc6202ddd48ca1ad9db1b96baf9d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af921649f03823c93735de5cbb4ca00cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#af921649f03823c93735de5cbb4ca00cc">ffmpeg_log</a> (void *ptr, int level, const char *fmt, va_list vl)</td></tr>
<tr class="memdesc:af921649f03823c93735de5cbb4ca00cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom FFmpeg log function. Used with av_log_set_callback().  <a href="ffmpegfs_8h.html#af921649f03823c93735de5cbb4ca00cc">More...</a><br /></td></tr>
<tr class="separator:af921649f03823c93735de5cbb4ca00cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9769c6d320fbff3c0a1af3a2dac24e70"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a9769c6d320fbff3c0a1af3a2dac24e70">init_logging</a> (const std::string &amp;logfile, const std::string &amp;max_level, bool to_stderr, bool to_syslog)</td></tr>
<tr class="memdesc:a9769c6d320fbff3c0a1af3a2dac24e70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inititalise logging facility.  <a href="ffmpegfs_8h.html#a9769c6d320fbff3c0a1af3a2dac24e70">More...</a><br /></td></tr>
<tr class="separator:a9769c6d320fbff3c0a1af3a2dac24e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10788fe59c0d275e077c89d7af43b3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#ac10788fe59c0d275e077c89d7af43b3e">transcoder_cache_path</a> (std::string &amp;path)</td></tr>
<tr class="memdesc:ac10788fe59c0d275e077c89d7af43b3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get transcoder cache path.  <a href="ffmpegfs_8h.html#ac10788fe59c0d275e077c89d7af43b3e">More...</a><br /></td></tr>
<tr class="separator:ac10788fe59c0d275e077c89d7af43b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46f3dfbc96faf285238b7804e0525a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#aa46f3dfbc96faf285238b7804e0525a6">transcoder_init</a> (void)</td></tr>
<tr class="memdesc:aa46f3dfbc96faf285238b7804e0525a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise transcoder, create cache.  <a href="ffmpegfs_8h.html#aa46f3dfbc96faf285238b7804e0525a6">More...</a><br /></td></tr>
<tr class="separator:aa46f3dfbc96faf285238b7804e0525a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1725ef26aec277d5fdf686e231f07a8b"><td class="memItemLeft" align="right" valign="top"><a id="a1725ef26aec277d5fdf686e231f07a8b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a1725ef26aec277d5fdf686e231f07a8b">transcoder_free</a> (void)</td></tr>
<tr class="memdesc:a1725ef26aec277d5fdf686e231f07a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free transcoder. <br /></td></tr>
<tr class="separator:a1725ef26aec277d5fdf686e231f07a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138350f4248a6dfa3afe5eee6b63d24d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a138350f4248a6dfa3afe5eee6b63d24d">transcoder_cache_maintenance</a> (void)</td></tr>
<tr class="memdesc:a138350f4248a6dfa3afe5eee6b63d24d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run cache maintenance.  <a href="ffmpegfs_8h.html#a138350f4248a6dfa3afe5eee6b63d24d">More...</a><br /></td></tr>
<tr class="separator:a138350f4248a6dfa3afe5eee6b63d24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96abbfc5e99e5a00673182237b58a7b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a96abbfc5e99e5a00673182237b58a7b0">transcoder_cache_clear</a> (void)</td></tr>
<tr class="memdesc:a96abbfc5e99e5a00673182237b58a7b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear transcoder cache.  <a href="ffmpegfs_8h.html#a96abbfc5e99e5a00673182237b58a7b0">More...</a><br /></td></tr>
<tr class="separator:a96abbfc5e99e5a00673182237b58a7b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab450447ef327599d120cd0ae5a408c5a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#ab450447ef327599d120cd0ae5a408c5a">insert_file</a> (<a class="el" href="fileio_8h.html#a1199d38534b11312b0210e527499a805">VIRTUALTYPE</a> type, const std::string &amp;virtfilepath, const struct stat *stbuf, int flags=<a class="el" href="fileio_8h.html#ab2033d1ee76d555f1673f6139b27d865">VIRTUALFLAG_NONE</a>)</td></tr>
<tr class="memdesc:ab450447ef327599d120cd0ae5a408c5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new virtual file to internal list.  <a href="ffmpegfs_8h.html#ab450447ef327599d120cd0ae5a408c5a">More...</a><br /></td></tr>
<tr class="separator:ab450447ef327599d120cd0ae5a408c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12f85cb5f95715e3db270f7f8d635db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#ad12f85cb5f95715e3db270f7f8d635db">insert_file</a> (<a class="el" href="fileio_8h.html#a1199d38534b11312b0210e527499a805">VIRTUALTYPE</a> type, const std::string &amp;virtfilepath, const std::string &amp;origfile, const struct stat *stbuf, int flags=<a class="el" href="fileio_8h.html#ab2033d1ee76d555f1673f6139b27d865">VIRTUALFLAG_NONE</a>)</td></tr>
<tr class="memdesc:ad12f85cb5f95715e3db270f7f8d635db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new virtual file to internal list. If the file already exists, it will be updated.  <a href="ffmpegfs_8h.html#ad12f85cb5f95715e3db270f7f8d635db">More...</a><br /></td></tr>
<tr class="separator:ad12f85cb5f95715e3db270f7f8d635db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf06e1e660878226dfa1a1b24b626875"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#acf06e1e660878226dfa1a1b24b626875">find_file</a> (const std::string &amp;virtfilepath)</td></tr>
<tr class="memdesc:acf06e1e660878226dfa1a1b24b626875"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find file in cache.  <a href="ffmpegfs_8h.html#acf06e1e660878226dfa1a1b24b626875">More...</a><br /></td></tr>
<tr class="separator:acf06e1e660878226dfa1a1b24b626875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaccd4c147efa346efcbb3c4fbb1e0a1a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#aaccd4c147efa346efcbb3c4fbb1e0a1a">check_path</a> (const std::string &amp;path)</td></tr>
<tr class="memdesc:aaccd4c147efa346efcbb3c4fbb1e0a1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if path has already been parsed. Only useful if for DVD, Bluray or VCD where it is guaranteed that all files have been parsed whenever the directory is in the hash.  <a href="ffmpegfs_8h.html#aaccd4c147efa346efcbb3c4fbb1e0a1a">More...</a><br /></td></tr>
<tr class="separator:aaccd4c147efa346efcbb3c4fbb1e0a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757570119497576827529b07c0aa4147"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a757570119497576827529b07c0aa4147">load_path</a> (const std::string &amp;path, const struct stat *statbuf, void *buf, fuse_fill_dir_t filler)</td></tr>
<tr class="memdesc:a757570119497576827529b07c0aa4147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a path with virtual files for FUSE.  <a href="ffmpegfs_8h.html#a757570119497576827529b07c0aa4147">More...</a><br /></td></tr>
<tr class="separator:a757570119497576827529b07c0aa4147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91259ded64f438cd678908b2c9061f65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a91259ded64f438cd678908b2c9061f65">find_original</a> (const std::string &amp;origpath)</td></tr>
<tr class="memdesc:a91259ded64f438cd678908b2c9061f65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the destination (post-transcode) file name, determine the parent of the file to be transcoded.  <a href="ffmpegfs_8h.html#a91259ded64f438cd678908b2c9061f65">More...</a><br /></td></tr>
<tr class="separator:a91259ded64f438cd678908b2c9061f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad0a9782c3231049be5c9c9b22542a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a7ad0a9782c3231049be5c9c9b22542a7">find_original</a> (std::string *filepath)</td></tr>
<tr class="memdesc:a7ad0a9782c3231049be5c9c9b22542a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the destination (post-transcode) file name, determine the name of the original file to be transcoded.  <a href="ffmpegfs_8h.html#a7ad0a9782c3231049be5c9c9b22542a7">More...</a><br /></td></tr>
<tr class="separator:a7ad0a9782c3231049be5c9c9b22542a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1169e3490bc783aed6623f74d1fba031"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a1169e3490bc783aed6623f74d1fba031">find_parent</a> (const std::string &amp;origpath)</td></tr>
<tr class="memdesc:a1169e3490bc783aed6623f74d1fba031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the destination (post-transcode) file name, determine the parent of the file to be transcoded.  <a href="ffmpegfs_8h.html#a1169e3490bc783aed6623f74d1fba031">More...</a><br /></td></tr>
<tr class="separator:a1169e3490bc783aed6623f74d1fba031"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9edaa014e57e09ec5c94f542d19c2f62"><td class="memItemLeft" align="right" valign="top"><a id="a9edaa014e57e09ec5c94f542d19c2f62"></a>
struct <a class="el" href="structFFMPEGFS__PARAMS.html">FFMPEGFS_PARAMS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a9edaa014e57e09ec5c94f542d19c2f62">params</a></td></tr>
<tr class="memdesc:a9edaa014e57e09ec5c94f542d19c2f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command line parameters. <br /></td></tr>
<tr class="separator:a9edaa014e57e09ec5c94f542d19c2f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20127960d0a961494a0a56d119d885a9"><td class="memItemLeft" align="right" valign="top">fuse_operations&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#a20127960d0a961494a0a56d119d885a9">ffmpegfs_ops</a></td></tr>
<tr class="memdesc:a20127960d0a961494a0a56d119d885a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fuse operations struct.  <a href="ffmpegfs_8h.html#a20127960d0a961494a0a56d119d885a9">More...</a><br /></td></tr>
<tr class="separator:a20127960d0a961494a0a56d119d885a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ac55205f0d0e96100cc45772501c7f"><td class="memItemLeft" align="right" valign="top"><a id="ab9ac55205f0d0e96100cc45772501c7f"></a>
<a class="el" href="classthread__pool.html">thread_pool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ffmpegfs_8h.html#ab9ac55205f0d0e96100cc45772501c7f">tp</a></td></tr>
<tr class="memdesc:ab9ac55205f0d0e96100cc45772501c7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread pool object. <br /></td></tr>
<tr class="separator:ab9ac55205f0d0e96100cc45772501c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main include for FFmpegfs project. </p>
<dl class="section author"><dt>Author</dt><dd>Norbert Schlia (<a href="#" onclick="location.href='mai'+'lto:'+'nsc'+'hl'+'ia@'+'ob'+'liv'+'io'+'n-s'+'of'+'twa'+'re'+'.de'; return false;">nschl<span style="display: none;">.nosp@m.</span>ia@o<span style="display: none;">.nosp@m.</span>blivi<span style="display: none;">.nosp@m.</span>on-s<span style="display: none;">.nosp@m.</span>oftwa<span style="display: none;">.nosp@m.</span>re.d<span style="display: none;">.nosp@m.</span>e</a>) </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2006-2008 David Collett <br  />
Copyright (C) 2008-2013 K. Henriksson <br  />
Copyright (C) 2017-2020 FFmpeg support by Norbert Schlia (<a href="#" onclick="location.href='mai'+'lto:'+'nsc'+'hl'+'ia@'+'ob'+'liv'+'io'+'n-s'+'of'+'twa'+'re'+'.de'; return false;">nschl<span style="display: none;">.nosp@m.</span>ia@o<span style="display: none;">.nosp@m.</span>blivi<span style="display: none;">.nosp@m.</span>on-s<span style="display: none;">.nosp@m.</span>oftwa<span style="display: none;">.nosp@m.</span>re.d<span style="display: none;">.nosp@m.</span>e</a>) </dd></dl>

<p class="definition">Definition in file <a class="el" href="ffmpegfs_8h_source.html">ffmpegfs.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aaccd4c147efa346efcbb3c4fbb1e0a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaccd4c147efa346efcbb3c4fbb1e0a1a">&#9670;&nbsp;</a></span>check_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_path </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if path has already been parsed. Only useful if for DVD, Bluray or VCD where it is guaranteed that all files have been parsed whenever the directory is in the hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>- Path to parse. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if path was found; false if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00492">492</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">References <a class="el" href="fuseops_8cc_source.html#l00088">filenames</a>, and <a class="el" href="fuseops_8cc_source.html#l00425">find_prefix()</a>.</p>

<p class="reference">Referenced by <a class="el" href="blurayparser_8cc_source.html#l00585">check_bluray()</a>, <a class="el" href="dvdparser_8cc_source.html#l00570">check_dvd()</a>, and <a class="el" href="vcdparser_8cc_source.html#l00186">check_vcd()</a>.</p>

</div>
</div>
<a id="af921649f03823c93735de5cbb4ca00cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af921649f03823c93735de5cbb4ca00cc">&#9670;&nbsp;</a></span>ffmpeg_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ffmpeg_log </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>vl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom FFmpeg log function. Used with av_log_set_callback(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>- See av_log_set_callback() in FFmpeg API. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>- See av_log_set_callback() in FFmpeg API. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fmt</td><td>- See av_log_set_callback() in FFmpeg API. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vl</td><td>- See av_log_set_callback() in FFmpeg API. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="transcode_8cc_source.html#l01008">1008</a> of file <a class="el" href="transcode_8cc_source.html">transcode.cc</a>.</p>

<p class="reference">References <a class="el" href="logging_8h_source.html#l00378">DEBUG</a>, <a class="el" href="logging_8h_source.html#l00375">ERROR</a>, <a class="el" href="logging_8h_source.html#l00377">INFO</a>, <a class="el" href="logging_8cc_source.html#l00175">Logging::log_with_level()</a>, <a class="el" href="logging_8h_source.html#l00379">TRACE</a>, and <a class="el" href="logging_8h_source.html#l00376">WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpegfs_8cc_source.html#l01397">main()</a>.</p>

</div>
</div>
<a id="acf06e1e660878226dfa1a1b24b626875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf06e1e660878226dfa1a1b24b626875">&#9670;&nbsp;</a></span>find_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a> find_file </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>virtfilepath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find file in cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">virtfilepath</td><td>- Virtual filename and path of file to find. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If found, returns <a class="el" href="structVIRTUALFILE.html" title="Virtual file definition.">VIRTUALFILE</a> object, if not found returns nullptr. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00479">479</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">References <a class="el" href="fuseops_8cc_source.html#l00088">filenames</a>, and <a class="el" href="ffmpeg__utils_8cc_source.html#l01248">sanitise_filepath()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpegfs_8cc_source.html#l00165">FFMPEGFS_PARAMS::current_format()</a>, and <a class="el" href="fuseops_8cc_source.html#l00561">find_original()</a>.</p>

</div>
</div>
<a id="a91259ded64f438cd678908b2c9061f65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91259ded64f438cd678908b2c9061f65">&#9670;&nbsp;</a></span>find_original() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a> find_original </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>origpath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given the destination (post-transcode) file name, determine the parent of the file to be transcoded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">origpath</td><td>- The original file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns contstant pointer to <a class="el" href="structVIRTUALFILE.html" title="Virtual file definition.">VIRTUALFILE</a> object of file, nullptr if not found </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00555">555</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="fuseops_8cc_source.html#l01369">ffmpegfs_fgetattr()</a>, <a class="el" href="fuseops_8cc_source.html#l01055">ffmpegfs_getattr()</a>, <a class="el" href="fuseops_8cc_source.html#l01480">ffmpegfs_open()</a>, <a class="el" href="fuseops_8cc_source.html#l01597">ffmpegfs_read()</a>, <a class="el" href="fuseops_8cc_source.html#l00877">ffmpegfs_readdir()</a>, <a class="el" href="fuseops_8cc_source.html#l00663">ffmpegfs_readlink()</a>, <a class="el" href="fuseops_8cc_source.html#l01756">ffmpegfs_statfs()</a>, and <a class="el" href="fuseops_8cc_source.html#l00646">find_parent()</a>.</p>

</div>
</div>
<a id="a7ad0a9782c3231049be5c9c9b22542a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad0a9782c3231049be5c9c9b22542a7">&#9670;&nbsp;</a></span>find_original() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a> find_original </td>
          <td>(</td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>filepath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given the destination (post-transcode) file name, determine the name of the original file to be transcoded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">filepath</td><td>- Input the original file, output name of transcoded file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns contstant pointer to <a class="el" href="structVIRTUALFILE.html" title="Virtual file definition.">VIRTUALFILE</a> object of file, nullptr if not found </dd></dl>
<p>&lt; </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Feature #2447 / Issue #25: add command line option </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00561">561</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8cc_source.html#l00293">append_filename()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00248">FFmpegfs_Format::fileext()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00357">find_ext()</a>, <a class="el" href="fuseops_8cc_source.html#l00479">find_file()</a>, <a class="el" href="fuseops_8cc_source.html#l00439">insert_file()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00268">FFmpegfs_Format::is_hls()</a>, <a class="el" href="ffmpegfs_8h_source.html#l00136">FFMPEGFS_PARAMS::m_format</a>, <a class="el" href="fileio_8h_source.html#l00137">VIRTUALFILE::m_origfile</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l01128">reg_compare()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00312">remove_filename()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00328">remove_path()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00377">replace_ext()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l01248">sanitise_filepath()</a>, <a class="el" href="fuseops_8cc_source.html#l00543">selector()</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00129">FFMPEGFS_PARAMS::smart_transcode()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l01114">strcasecmp()</a>, <a class="el" href="fileio_8h_source.html#l00109">VIRTUALFLAG_PASSTHROUGH</a>, and <a class="el" href="fileio_8h_source.html#l00091">VIRTUALTYPE_DISK</a>.</p>

</div>
</div>
<a id="a1169e3490bc783aed6623f74d1fba031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1169e3490bc783aed6623f74d1fba031">&#9670;&nbsp;</a></span>find_parent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a> find_parent </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>origpath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given the destination (post-transcode) file name, determine the parent of the file to be transcoded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">origpath</td><td>- The original file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns contstant pointer to <a class="el" href="structVIRTUALFILE.html" title="Virtual file definition.">VIRTUALFILE</a> object of file, nullptr if not found </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00646">646</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">References <a class="el" href="fuseops_8cc_source.html#l00555">find_original()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00312">remove_filename()</a>, and <a class="el" href="ffmpeg__utils_8cc_source.html#l00302">remove_sep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="fuseops_8cc_source.html#l01055">ffmpegfs_getattr()</a>, and <a class="el" href="fuseops_8cc_source.html#l01480">ffmpegfs_open()</a>.</p>

</div>
</div>
<a id="a9769c6d320fbff3c0a1af3a2dac24e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9769c6d320fbff3c0a1af3a2dac24e70">&#9670;&nbsp;</a></span>init_logging()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool init_logging </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>logfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>max_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_stderr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>to_syslog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inititalise logging facility. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">logfile</td><td>- Name of log file if file writing is selected. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_level</td><td>- Maximum level to log. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to_stderr</td><td>- If true, log to stderr. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to_syslog</td><td>- If true, log to syslog. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success; false on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transcode_8cc_source.html#l01086">1086</a> of file <a class="el" href="transcode_8cc_source.html">transcode.cc</a>.</p>

<p class="reference">References <a class="el" href="logging_8h_source.html#l00378">DEBUG</a>, <a class="el" href="logging_8h_source.html#l00375">ERROR</a>, <a class="el" href="logging_8h_source.html#l00377">INFO</a>, <a class="el" href="logging_8cc_source.html#l00165">Logging::init_logging()</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00377">level_map</a>, <a class="el" href="logging_8h_source.html#l00379">TRACE</a>, and <a class="el" href="logging_8h_source.html#l00376">WARNING</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpegfs_8cc_source.html#l01397">main()</a>.</p>

</div>
</div>
<a id="ad12f85cb5f95715e3db270f7f8d635db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12f85cb5f95715e3db270f7f8d635db">&#9670;&nbsp;</a></span>insert_file() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a> insert_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fileio_8h.html#a1199d38534b11312b0210e527499a805">VIRTUALTYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>virtfilepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>origfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct stat *&#160;</td>
          <td class="paramname"><em>stbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code><a class="el" href="fileio_8h.html#ab2033d1ee76d555f1673f6139b27d865">VIRTUALFLAG_NONE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add new virtual file to internal list. If the file already exists, it will be updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>- Type of virtual file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">virtfilepath</td><td>- Name of virtual file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">origfile</td><td>- Original file name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stbuf</td><td>- stat buffer with file size, time etc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- One of the VIRTUALFLAG_* flags to control the detailed behaviour. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns constant pointer to <a class="el" href="structVIRTUALFILE.html" title="Virtual file definition.">VIRTUALFILE</a> object of file, nullptr if not found </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00444">444</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">References <a class="el" href="fuseops_8cc_source.html#l00088">filenames</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00134">FFMPEGFS_PARAMS::guess_format_idx()</a>, <a class="el" href="fileio_8h_source.html#l00134">VIRTUALFILE::m_flags</a>, <a class="el" href="fileio_8h_source.html#l00136">VIRTUALFILE::m_format_idx</a>, <a class="el" href="fileio_8h_source.html#l00137">VIRTUALFILE::m_origfile</a>, <a class="el" href="fileio_8h_source.html#l00138">VIRTUALFILE::m_st</a>, <a class="el" href="fileio_8h_source.html#l00133">VIRTUALFILE::m_type</a>, <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>, and <a class="el" href="ffmpeg__utils_8cc_source.html#l01248">sanitise_filepath()</a>.</p>

</div>
</div>
<a id="ab450447ef327599d120cd0ae5a408c5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab450447ef327599d120cd0ae5a408c5a">&#9670;&nbsp;</a></span>insert_file() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fileio_8h.html#ae8356f209b2b74cc385a8d7551f1f27a">LPVIRTUALFILE</a> insert_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="fileio_8h.html#a1199d38534b11312b0210e527499a805">VIRTUALTYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>virtfilepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct stat *&#160;</td>
          <td class="paramname"><em>stbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em> = <code><a class="el" href="fileio_8h.html#ab2033d1ee76d555f1673f6139b27d865">VIRTUALFLAG_NONE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add new virtual file to internal list. </p>
<p>For Bluray/DVD/VCD actually no physical input file exists, so virtual file and origfile are the same.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>- Type of virtual file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">virtfilepath</td><td>- Name of virtual file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stbuf</td><td>- stat buffer with file size, time etc. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>- One of the VIRTUALFLAG_* flags to control the detailed behaviour. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns constant pointer to <a class="el" href="structVIRTUALFILE.html" title="Virtual file definition.">VIRTUALFILE</a> object of file, nullptr if not found </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00439">439</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="blurayparser_8cc_source.html#l00365">create_bluray_virtualfile()</a>, <a class="el" href="dvdparser_8cc_source.html#l00244">create_dvd_virtualfile()</a>, <a class="el" href="vcdparser_8cc_source.html#l00059">create_vcd_virtualfile()</a>, <a class="el" href="fuseops_8cc_source.html#l01055">ffmpegfs_getattr()</a>, <a class="el" href="fuseops_8cc_source.html#l00877">ffmpegfs_readdir()</a>, <a class="el" href="fuseops_8cc_source.html#l00561">find_original()</a>, and <a class="el" href="fuseops_8cc_source.html#l00300">make_file()</a>.</p>

</div>
</div>
<a id="a757570119497576827529b07c0aa4147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a757570119497576827529b07c0aa4147">&#9670;&nbsp;</a></span>load_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_path </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct stat *&#160;</td>
          <td class="paramname"><em>statbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fuse_fill_dir_t&#160;</td>
          <td class="paramname"><em>filler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a path with virtual files for FUSE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>- Physical path to load. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">statbuf</td><td>- stat buffer to load. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>- FUSE buffer to fill. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filler</td><td>- Filler function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns number of files found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00499">499</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">References <a class="el" href="fuseops_8cc_source.html#l00088">filenames</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00429">get_destname()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l00312">remove_filename()</a>, and <a class="el" href="ffmpeg__utils_8cc_source.html#l00328">remove_path()</a>.</p>

<p class="reference">Referenced by <a class="el" href="blurayparser_8cc_source.html#l00585">check_bluray()</a>, <a class="el" href="dvdparser_8cc_source.html#l00570">check_dvd()</a>, and <a class="el" href="vcdparser_8cc_source.html#l00186">check_vcd()</a>.</p>

</div>
</div>
<a id="a96abbfc5e99e5a00673182237b58a7b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96abbfc5e99e5a00673182237b58a7b0">&#9670;&nbsp;</a></span>transcoder_cache_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool transcoder_cache_clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear transcoder cache. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success; false on error. Check errno for details. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transcode_8cc_source.html#l00738">738</a> of file <a class="el" href="transcode_8cc_source.html">transcode.cc</a>.</p>

<p class="reference">References <a class="el" href="transcode_8cc_source.html#l00063">cache</a>, and <a class="el" href="cache_8cc_source.html#l01286">Cache::clear()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpegfs_8cc_source.html#l01397">main()</a>.</p>

</div>
</div>
<a id="a138350f4248a6dfa3afe5eee6b63d24d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a138350f4248a6dfa3afe5eee6b63d24d">&#9670;&nbsp;</a></span>transcoder_cache_maintenance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool transcoder_cache_maintenance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run cache maintenance. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success; false on error. Check errno for details. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transcode_8cc_source.html#l00726">726</a> of file <a class="el" href="transcode_8cc_source.html">transcode.cc</a>.</p>

<p class="reference">References <a class="el" href="transcode_8cc_source.html#l00063">cache</a>, and <a class="el" href="cache_8cc_source.html#l01270">Cache::maintenance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpegfs_8cc_source.html#l01397">main()</a>, and <a class="el" href="cache__maintenance_8cc_source.html#l00068">maintenance_handler()</a>.</p>

</div>
</div>
<a id="ac10788fe59c0d275e077c89d7af43b3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac10788fe59c0d275e077c89d7af43b3e">&#9670;&nbsp;</a></span>transcoder_cache_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void transcoder_cache_path </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get transcoder cache path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">path</td><td>- Path to transcoder cache. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="transcode_8cc_source.html#l00178">178</a> of file <a class="el" href="transcode_8cc_source.html">transcode.cc</a>.</p>

<p class="reference">References <a class="el" href="ffmpeg__utils_8cc_source.html#l00283">append_sep()</a>, <a class="el" href="ffmpeg__utils_8cc_source.html#l01150">expand_path()</a>, <a class="el" href="ffmpegfs_8h_source.html#l00167">FFMPEGFS_PARAMS::m_cachepath</a>, and <a class="el" href="ffmpegfs_8cc_source.html#l00077">params</a>.</p>

<p class="reference">Referenced by <a class="el" href="cache_8cc_source.html#l00539">Cache::load_index()</a>, <a class="el" href="buffer_8cc_source.html#l00907">Buffer::make_cachefile_name()</a>, and <a class="el" href="ffmpegfs_8cc_source.html#l01332">print_params()</a>.</p>

</div>
</div>
<a id="aa46f3dfbc96faf285238b7804e0525a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46f3dfbc96faf285238b7804e0525a6">&#9670;&nbsp;</a></span>transcoder_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool transcoder_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise transcoder, create cache. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success; false on error. Check errno for details. </dd></dl>

<p class="definition">Definition at line <a class="el" href="transcode_8cc_source.html#l00212">212</a> of file <a class="el" href="transcode_8cc_source.html">transcode.cc</a>.</p>

<p class="reference">References <a class="el" href="transcode_8cc_source.html#l00063">cache</a>, <a class="el" href="logging_8h_source.html#l00185">Logging::debug()</a>, <a class="el" href="logging_8h_source.html#l00254">Logging::error()</a>, and <a class="el" href="cache_8cc_source.html#l00539">Cache::load_index()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ffmpegfs_8cc_source.html#l01397">main()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a20127960d0a961494a0a56d119d885a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20127960d0a961494a0a56d119d885a9">&#9670;&nbsp;</a></span>ffmpegfs_ops</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fuse_operations ffmpegfs_ops</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fuse operations struct. </p>
<p>Fuse operations struct. </p>

<p class="definition">Definition at line <a class="el" href="fuseops_8cc_source.html#l00093">93</a> of file <a class="el" href="fuseops_8cc_source.html">fuseops.cc</a>.</p>

<p class="reference">Referenced by <a class="el" href="fuseops_8cc_source.html#l00235">init_fuse_ops()</a>, and <a class="el" href="ffmpegfs_8cc_source.html#l01397">main()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
